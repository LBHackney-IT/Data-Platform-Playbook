<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-dap-airflow/onboarding/access-my-service-data-history" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">My service data history | Hackney Data Platform Playbook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://playbook.hackney.gov.uk/Data-Platform-Playbook/dap-airflow/onboarding/access-my-service-data-history"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="My service data history | Hackney Data Platform Playbook"><meta data-rh="true" name="description" content="Onboarding data analysts and engineers to DAPâ‡¨flow, the Data Analytics Platform Airflow integration."><meta data-rh="true" property="og:description" content="Onboarding data analysts and engineers to DAPâ‡¨flow, the Data Analytics Platform Airflow integration."><link data-rh="true" rel="icon" href="/Data-Platform-Playbook/img/favicon.png"><link data-rh="true" rel="canonical" href="https://playbook.hackney.gov.uk/Data-Platform-Playbook/dap-airflow/onboarding/access-my-service-data-history"><link data-rh="true" rel="alternate" href="https://playbook.hackney.gov.uk/Data-Platform-Playbook/dap-airflow/onboarding/access-my-service-data-history" hreflang="en"><link data-rh="true" rel="alternate" href="https://playbook.hackney.gov.uk/Data-Platform-Playbook/dap-airflow/onboarding/access-my-service-data-history" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://KNMFHOJ4X2-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Hackney Data Platform Playbook" href="/Data-Platform-Playbook/opensearch.xml"><link rel="stylesheet" href="/Data-Platform-Playbook/assets/css/styles.2e3b48f9.css">
<script src="/Data-Platform-Playbook/assets/js/runtime~main.69c6d417.js" defer="defer"></script>
<script src="/Data-Platform-Playbook/assets/js/main.2fe36f58.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Data-Platform-Playbook/"><div class="navbar__logo"><img src="/Data-Platform-Playbook/img/logo-long.svg" alt="Data Platform Playbook" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Data-Platform-Playbook/img/logo-long.svg" alt="Data Platform Playbook" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Data Platform Playbook</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/LBHackney-IT/data-platform-playbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Data-Platform-Playbook/">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Data-Platform-Playbook/playbook/getting-set-up">Playbook</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Data-Platform-Playbook/training-modules/module-0">Training Modules</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Data-Platform-Playbook/docs/CD-process">Technical Documentation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/Data-Platform-Playbook/dap-airflow/introduction">DAPâ‡¨flow</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/introduction">ğŸ“šIntroduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/onboarding/begin">ğŸ“šOnboarding</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/onboarding/begin">Begin here</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/onboarding/welcome">Welcome!</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/onboarding/access-the-AWS-Management-Console">AWS Console access</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/onboarding/access-the-AWS-region">AWS region</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/onboarding/access-my-Amazon-Athena-database">Amazon Athena</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/onboarding/access-my-current-service-data">My current service data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/onboarding/access-my-service-data-history">My service data history</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/onboarding/query-my-service-data">Query my service data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/onboarding/prototype-simple-transforms">Prototype simple transforms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/onboarding/prototype-legacy-transforms">Prototype legacy transforms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/onboarding/github-access">GitHub access</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/onboarding/github-branch">GitHub branching</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/onboarding/github-commit-transform">Committing transforms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/onboarding/github-pull-request">GitHub pull requests</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Data-Platform-Playbook/dap-airflow/ux">ğŸ“šUX</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Data-Platform-Playbook/architecture-decisions">Architecture Decision</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/Data-Platform-Playbook/spikes/amundsen-deployment">Spikes</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Data-Platform-Playbook/glossary">Glossary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Data-Platform-Playbook/roles">Roles</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/Data-Platform-Playbook/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">DAPâ‡¨flow</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">ğŸ“šOnboarding</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">My service data history</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>How will I access my <code>[service]</code>&#x27;s data history from <em><strong>Amazon Athena</strong></em>?</h1></header>
<p><img decoding="async" loading="lazy" alt="DAPâ‡¨flow" src="/Data-Platform-Playbook/assets/images/DAPairflowFLOWleft-e023069f4c3409ab8db1b918e04abb3b.png" width="750" height="100" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="1-access-amazon-athena">1. Access <em><strong>Amazon Athena</strong></em><a href="#1-access-amazon-athena" class="hash-link" aria-label="Direct link to 1-access-amazon-athena" title="Direct link to 1-access-amazon-athena">â€‹</a></h2>
<p><strong><code>ğŸ–±</code></strong> In your web browser, log in to your AWS account, navigate to the <em><strong>AWS Management Console</strong></em>, and open <em><strong>Amazon Athena</strong></em>.</p>
<p>ğŸ‘‰ First time <em><strong>Amazon Athena</strong></em> users should <strong>start here â–º</strong> <strong><a href="/Data-Platform-Playbook/dap-airflow/onboarding/access-my-Amazon-Athena-database">DAPâ‡¨flowğŸ“šAmazon Athena</a></strong></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="2-understanding-your-service-raw-zone-database">2. Understanding your <code>[service raw zone]</code> database<a href="#2-understanding-your-service-raw-zone-database" class="hash-link" aria-label="Direct link to 2-understanding-your-service-raw-zone-database" title="Direct link to 2-understanding-your-service-raw-zone-database">â€‹</a></h2>
<p><strong><code>ğŸ–±</code></strong> Ensure you have selected your <code>[service raw zone]</code> from the list box under the &quot;<strong>Database</strong>&quot; section on the left side of the Athena interface.</p>
<p><strong><code>Fig. 2 &amp; 3</code></strong> <img decoding="async" loading="lazy" alt="Fig. 2 &amp;amp; 3" src="/Data-Platform-Playbook/assets/images/access-my-service-data-history-two-three-b817b76ec865d79ec3af932c1a708eae.png" width="512" height="251" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>REMINDER</div><div class="admonitionContent_BuS1"><p>ğŸ‘‰  Your <strong>Service Terms<code>[]</code></strong> are defined in the <em><strong>welcome</strong></em> document stored in your <a href="https://drive.google.com/drive/folders/1k30M7Hh8WLttL5T5JVGbnKvSLNX7lVSg?usp=drive_link" target="_blank" rel="noopener noreferrer"><strong><code>[service access group]</code></strong> <em><strong>Google Drive subfolder</strong></em></a>.</p></div></div>
<p>ğŸ’¡ Athenaâ€™s databases are actually catalogs of the data stored in the <em><strong>AWS S3</strong></em> storage buckets and folders, which we collectively call a <strong>data lake.</strong> From the top level, data lakes are divided by zone, then by service, then by service database.</p>
<p>ğŸ’¡ The service database folders are represented by <strong>databases</strong> in Athena that are labeled in the reverse <em><code>service-database-zone</code></em> format. The <em>zone suffix</em> labeling has the following meaning:</p>
<ul>
<li><strong><code>...-raw-zone</code></strong> for databases where data tables arrive after they are ingested from a service database and whose specification depends upon the source of that data.</li>
<li><strong><code>...-refined-zone</code></strong> for databases where data goes whenever it is transformed and whose specification is implemented by data analysts and engineers when developing their data pipelines.</li>
<li><strong><code>...-trusted-zone</code></strong> for databases containing the product tables whose specification is developed and agreed upon by data analysts and engineers in collaboration with their data users.</li>
</ul>
<p>ğŸ‘‰ For more information on how Amazon S3 organizes data, see â–º<a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/organizing-objects.html" target="_blank" rel="noopener noreferrer"><strong>here</strong></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="3-explore-the-tables-in-your-database">3. Explore the tables in your database<a href="#3-explore-the-tables-in-your-database" class="hash-link" aria-label="Direct link to 3. Explore the tables in your database" title="Direct link to 3. Explore the tables in your database">â€‹</a></h2>
<p><strong><code>ğŸ–±</code></strong> Beneath the &quot;<strong>Database</strong>&quot; section on the left of the Athena interface, expand the &quot;<strong><code>â–º</code> Tables</strong>&quot; section to find the list of tables available from your <code>[service raw zone]</code> database.</p>
<ul>
<li>
<p>This is how Athena presents tables from the S3 data lake. In S3â€™s folder structure, tables are represented by folders below the service database folder.</p>
</li>
<li>
<p>In this implementation, the table names were all suffixed <code>..._history</code> to remind us that each table contains several daily generations of data stretching back in time.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="4-expanding-each-table">4. Expanding each table<a href="#4-expanding-each-table" class="hash-link" aria-label="Direct link to 4. Expanding each table" title="Direct link to 4. Expanding each table">â€‹</a></h2>
<p><strong><code>ğŸ–±</code></strong> Click on each table name to expand it and observe the complete list of columns for that table.</p>
<p><strong><code>Fig. 4 &amp; 5</code></strong> <img decoding="async" loading="lazy" alt="Fig. 4 &amp;amp; 5" src="/Data-Platform-Playbook/assets/images/access-my-service-data-history-four-five-54b02eadf8e77a8df1ba9463c991b376.png" width="512" height="387" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="5-verifying-the-views-and-columns">5. Verifying the views and columns<a href="#5-verifying-the-views-and-columns" class="hash-link" aria-label="Direct link to 5. Verifying the views and columns" title="Direct link to 5. Verifying the views and columns">â€‹</a></h2>
<p><strong><code>ğŸ‘</code></strong> Compare each table and its columns with the equivalent table and columns from your <code>[service database]</code> to observe how their names and data types match up with their counterparts.</p>
<ul>
<li>
<p>Occasionally the automatic data type translation will yield unexpected results. Always check columns to ensure there will never be any data lost. For example, if integer precision is lost.</p>
</li>
<li>
<p>Be especially aware of <em>date</em> translations. Dates are sometimes transmitted in specialized formats, possibly numerical or possibly textual. If weâ€™re unlucky these might need some coded reconciliation afterwards to make them both readable and useful in computations, especially when used in comparison, or used to join <em>date</em> columns from tables elsewhere.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="6-observing-the-partition-columns">6. Observing the partition columns<a href="#6-observing-the-partition-columns" class="hash-link" aria-label="Direct link to 6. Observing the partition columns" title="Direct link to 6. Observing the partition columns">â€‹</a></h2>
<p><strong><code>ğŸ–±</code></strong> Scroll to the bottom of the column list to find the partition scheme. This will comprise three, or four, or more partition columns shown with the partition data type alongside eg. <strong><code>string (Partitioned)</code></strong>.</p>
<p><strong><code>Fig. 6</code></strong> <img decoding="async" loading="lazy" alt="Fig. 6" src="/Data-Platform-Playbook/assets/images/access-my-service-data-history-six-7755cb914faac5960eb80313c8fe02f3.png" width="512" height="423" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-traditional-databases-versus-a-data-lake">ğŸ’¡ Traditional databases versus a data lake<a href="#-traditional-databases-versus-a-data-lake" class="hash-link" aria-label="Direct link to ğŸ’¡ Traditional databases versus a data lake" title="Direct link to ğŸ’¡ Traditional databases versus a data lake">â€‹</a></h4>
<p>It helps to become familiar with the fundamental differences between a traditional database and a data lake that records the entire history of our data.</p>
<ul>
<li>
<p>Because tables are ingested or otherwise transformed daily (the most common frequency), each table folder, in the S3 data lake, must be subdivided by it&#x27;s <strong>generation</strong>, so the underlying technology of the data platform can quickly access either current data, or specified previous data, needed for transformations.</p>
</li>
<li>
<p>Generations are organized hierarchically using S3 folders represented by the following partition column strings:</p>
<ul>
<li><em><strong>Year</strong></em> eg. <code>import_year</code> eg. â€˜2024â€™ (the current year)</li>
<li><em><strong>Month</strong></em> eg. <code>import_month</code> eg. â€˜06â€™ (the current month eg. June)</li>
<li><em><strong>Day</strong></em> eg. <code>import_day</code> eg. â€˜05â€™ (5th day of the current month)</li>
<li><em><strong>Date</strong></em> eg. <code>import_date</code> eg. â€œ20240605â€ (5th June 2024)</li>
</ul>
<p>We might see alternatives to <code>import_â€¦</code> column prefixes such as <code>transform_â€¦</code> or <code>generation_â€¦</code>, or observe combinations of generation the prefixes, to indicate data imported and transformed at different times.</p>
</li>
<li>
<p>We may observe other non-generational partition types, for example, we might want to subdivide the data after it is ingested in some other useful way, eg. by <em>currency</em> or <em>historicity</em> to facilitate data governance management or optimize our data pipelines in some way.</p>
</li>
</ul>
<p>ğŸ‘‰ So that Data Analysts are not overwhelmed by the data partitioning scheme, and can avoid using complex generational sub-queries in their transformations, a better solution was developed. The product of that development is <strong>documented here â–º</strong> <strong><a href="/Data-Platform-Playbook/dap-airflow/onboarding/access-my-current-service-data">DAPâ‡¨flowğŸ“šMy current service data</a></strong></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="we--your-feedback"><strong><em>&quot;We</em> â™¡ <em>your feedback!&quot;</em></strong><a href="#we--your-feedback" class="hash-link" aria-label="Direct link to we--your-feedback" title="Direct link to we--your-feedback">â€‹</a></h2>
<p><img decoding="async" loading="lazy" alt="DAPâ‡¨flow" src="/Data-Platform-Playbook/assets/images/DAPairflowFLOWleft-e023069f4c3409ab8db1b918e04abb3b.png" width="750" height="100" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>UX</div><div class="admonitionContent_BuS1"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="-please-use-this-link--dapflow-ux-feedback--access-my-service-data-history">ğŸ‘‰ Please use <strong>this link â–º</strong> <a href="https://docs.google.com/forms/d/e/1FAIpQLSdqeNyWIPMNBHEr-YSyxnXQ4ggTwJPkffMYgFaJ4hGEhIL6LA/viewform?usp=pp_url&amp;entry.339550210=access-my-service-data-history" target="_blank" rel="noopener noreferrer"><strong>DAPâ‡¨flow</strong> <code>UX</code> <strong>Feedback / access-my-service-data-history</strong></a><a href="#-please-use-this-link--dapflow-ux-feedback--access-my-service-data-history" class="hash-link" aria-label="Direct link to -please-use-this-link--dapflow-ux-feedback--access-my-service-data-history" title="Direct link to -please-use-this-link--dapflow-ux-feedback--access-my-service-data-history">â€‹</a></h3><ul>
<li>
<p>Your feedback enables us to improve <strong>DAPâ‡¨flow</strong> and our Data Analytics Platform service.</p>
</li>
<li>
<p>We encourage all our users to be generous with their time, in giving us their recollections and honest opinions about our service.</p>
</li>
<li>
<p>We especially encourage our new users to give feedback at the end of every <strong>ğŸ“šOnboarding</strong> task because the quality of the onboarding experience really matters.</p>
<p>â˜ <strong>Please use this link to help us understand your user experience!</strong></p>
</li>
</ul></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="ux-criteria">ğŸ“š<code>UX</code> Criteria<a href="#ux-criteria" class="hash-link" aria-label="Direct link to ux-criteria" title="Direct link to ux-criteria">â€‹</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>ABILITY</div><div class="admonitionContent_BuS1"><ul>
<li><strong>AWS Management Console</strong> user</li>
<li>Hackney <code>[service]</code> Data Analyst</li>
<li>Hackney <code>[service database]</code> user</li>
</ul></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>BEHAVIOR</div><div class="admonitionContent_BuS1"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-will-i-access-my-services-data-history-from-amazon-athena-1">How will I access my <code>[service]</code>&#x27;s data history from <em><strong>Amazon Athena</strong></em>?<a href="#how-will-i-access-my-services-data-history-from-amazon-athena-1" class="hash-link" aria-label="Direct link to how-will-i-access-my-services-data-history-from-amazon-athena-1" title="Direct link to how-will-i-access-my-services-data-history-from-amazon-athena-1">â€‹</a></h3><p><strong>Measures</strong> the behavior of <strong>Amazon Athena</strong> while users explore their <code>[service raw zone]</code> database tables and columns:</p><p><strong>Given</strong> I selected my <code>[service raw zone]</code> database in the <em><strong>Amazon Athena</strong></em> interface</p><p><strong>When</strong> I explore the list below â€œ<strong>Tables</strong>â€<br>
<strong>~and</strong> expand each table name to list its columns</p><p><strong>Then</strong> I should find table names equivalent to tables from my <code>[service database]</code> with the suffix <code>..._history</code> added<br>
<strong>~and</strong> find equivalent column names with their respective equivalent data types<br>
<strong>~and</strong> I should observe every table has partition columns added, eg. <code>import_date</code>.</p><p><strong>Scale</strong> of 3 <strong>~and</strong> flow features.</p></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/Data-Platform-Playbook/tags/onboarding">onboarding</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/LBHackney-IT/data-platform-playbook/edit/master/docs/dap-airflow/onboarding/access-my-service-data-history.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/Data-Platform-Playbook/dap-airflow/onboarding/access-my-current-service-data"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">My current service data</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Data-Platform-Playbook/dap-airflow/onboarding/query-my-service-data"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Query my service data</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-access-amazon-athena" class="table-of-contents__link toc-highlight">1. Access <em><strong>Amazon Athena</strong></em></a></li><li><a href="#2-understanding-your-service-raw-zone-database" class="table-of-contents__link toc-highlight">2. Understanding your <code>[service raw zone]</code> database</a></li><li><a href="#3-explore-the-tables-in-your-database" class="table-of-contents__link toc-highlight">3. Explore the tables in your database</a></li><li><a href="#4-expanding-each-table" class="table-of-contents__link toc-highlight">4. Expanding each table</a></li><li><a href="#5-verifying-the-views-and-columns" class="table-of-contents__link toc-highlight">5. Verifying the views and columns</a></li><li><a href="#6-observing-the-partition-columns" class="table-of-contents__link toc-highlight">6. Observing the partition columns</a></li><li><a href="#we--your-feedback" class="table-of-contents__link toc-highlight"><strong><em>&quot;We</em> â™¡ <em>your feedback!&quot;</em></strong></a><ul><li><a href="#-please-use-this-link--dapflow-ux-feedback--access-my-service-data-history" class="table-of-contents__link toc-highlight">ğŸ‘‰ Please use <strong>this link â–º</strong> <strong>DAPâ‡¨flow</strong> <code>UX</code> <strong>Feedback / access-my-service-data-history</strong></a></li></ul></li><li><a href="#ux-criteria" class="table-of-contents__link toc-highlight">ğŸ“š<code>UX</code> Criteria</a><ul><li><a href="#how-will-i-access-my-services-data-history-from-amazon-athena-1" class="table-of-contents__link toc-highlight">How will I access my <code>[service]</code>&#39;s data history from <em><strong>Amazon Athena</strong></em>?</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Made by Hackney's Data Analytics Platform Team.</div></div></div></footer></div>
</body>
</html>