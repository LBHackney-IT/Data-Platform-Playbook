"use strict";(self.webpackChunkdata_platform_playbook=self.webpackChunkdata_platform_playbook||[]).push([[9851],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>k});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),l=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},m=function(e){var t=l(e.components);return n.createElement(p.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,p=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),d=l(a),c=r,k=d["".concat(p,".").concat(c)]||d[c]||u[c]||o;return a?n.createElement(k,i(i({ref:t},m),{},{components:a})):n.createElement(k,i({ref:t},m))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=c;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[d]="string"==typeof e?e:r,i[1]=s;for(var l=2;l<o;l++)i[l]=a[l];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},8270:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>l});var n=a(7462),r=(a(7294),a(3905));const o={id:"prototype-legacy-transforms",title:"Prototype legacy transforms",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",layout:"playbook_js",tags:["onboarding"]},i="How do I use ***Amazon Athena*** to prototype a data transformation from my [legacy SQL query]?",s={unversionedId:"dap-airflow/onboarding/prototype-legacy-transforms",id:"dap-airflow/onboarding/prototype-legacy-transforms",title:"Prototype legacy transforms",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",source:"@site/docs/dap-airflow/onboarding/prototype-legacy-transforms.md",sourceDirName:"dap-airflow/onboarding",slug:"/dap-airflow/onboarding/prototype-legacy-transforms",permalink:"/Data-Platform-Playbook/dap-airflow/onboarding/prototype-legacy-transforms",draft:!1,editUrl:"https://github.com/LBHackney-IT/data-platform-playbook/edit/master/docs/dap-airflow/onboarding/prototype-legacy-transforms.md",tags:[{label:"onboarding",permalink:"/Data-Platform-Playbook/tags/onboarding"}],version:"current",frontMatter:{id:"prototype-legacy-transforms",title:"Prototype legacy transforms",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",layout:"playbook_js",tags:["onboarding"]},sidebar:"docs",previous:{title:"Prototype simple transforms",permalink:"/Data-Platform-Playbook/dap-airflow/onboarding/prototype-simple-transforms"},next:{title:"GitHub access",permalink:"/Data-Platform-Playbook/dap-airflow/onboarding/github-access"}},p={},l=[{value:"1. Access <strong><em>Amazon Athena</em></strong>",id:"1-access-amazon-athena",level:2},{value:"2. Select your <code>[service workgroup]</code>",id:"2-select-your-service-workgroup",level:2},{value:"3. Select your <code>[service raw zone]</code> database",id:"3-select-your-service-raw-zone-database",level:2},{value:"4.Prepare your <code>[transform SQL]</code> query",id:"4prepare-your-transform-sql-query",level:2},{value:"5. Verify table and column availability",id:"5-verify-table-and-column-availability",level:2},{value:"6. Ensure your <code>[transform SQL]</code> is compatible with <strong><em>Amazon Athena</em></strong>",id:"6-ensure-your-transform-sql-is-compatible-with-amazon-athena",level:2},{value:"7. Run your <code>[transform SQL]</code> query",id:"7-run-your-transform-sql-query",level:2},{value:"8. Review the results",id:"8-review-the-results",level:2},{value:"9. Save your query as <code>[transform].sql</code>",id:"9-save-your-query-as-transformsql",level:2},{value:"<strong><em>&quot;We</em> \u2661 <em>your feedback!&quot;</em></strong>",id:"we--your-feedback",level:2},{value:"\ud83d\udcda<code>UX</code> Criteria",id:"ux-criteria",level:2}],m={toc:l},d="wrapper";function u(e){let{components:t,...o}=e;return(0,r.kt)(d,(0,n.Z)({},m,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"how-do-i-use-amazon-athena-to-prototype-a-data-transformation-from-my-legacy-sql-query"},"How do I use ",(0,r.kt)("strong",{parentName:"h1"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena"))," to prototype a data transformation from my ",(0,r.kt)("inlineCode",{parentName:"h1"},"[legacy SQL query]"),"?"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"DAP\u21e8flow",src:a(2632).Z,width:"750",height:"100"}),"  "),(0,r.kt)("h2",{id:"1-access-amazon-athena"},"1. Access ",(0,r.kt)("strong",{parentName:"h2"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," In your web browser, log in to your AWS account, navigate to the ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"AWS Management Console")),", and open ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena")),". "),(0,r.kt)("p",null,"\ud83d\udc49 First time ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena"))," users should ",(0,r.kt)("strong",{parentName:"p"},"start here \u25ba")," ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"../onboarding/access-my-Amazon-Athena-database"},"DAP\u21e8flow\ud83d\udcdaAmazon Athena"))," "),(0,r.kt)("h2",{id:"2-select-your-service-workgroup"},"2. Select your ",(0,r.kt)("inlineCode",{parentName:"h2"},"[service workgroup]")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," Ensure you have selected your ",(0,r.kt)("inlineCode",{parentName:"p"},"[service workgroup]")," from the list box next to \u201c",(0,r.kt)("strong",{parentName:"p"},"Workgroup"),"\u201d.  "),(0,r.kt)("h2",{id:"3-select-your-service-raw-zone-database"},"3. Select your ",(0,r.kt)("inlineCode",{parentName:"h2"},"[service raw zone]")," database"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," Ensure you select your ",(0,r.kt)("inlineCode",{parentName:"p"},"[service raw zone]"),' from the list box under the "',(0,r.kt)("strong",{parentName:"p"},"Database"),'" section on the left side of the Athena interface.  '),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\udc41"))," You should observe your ",(0,r.kt)("inlineCode",{parentName:"p"},"[service database]"),' equivalent tables and columns with their respective data types listed below "',(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\u25bc")," Views"),'".  '),(0,r.kt)("h2",{id:"4prepare-your-transform-sql-query"},"4.Prepare your ",(0,r.kt)("inlineCode",{parentName:"h2"},"[transform SQL]")," query"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," ",(0,r.kt)("em",{parentName:"p"},"Copy-and-paste")," your ",(0,r.kt)("inlineCode",{parentName:"p"},"[legacy SQL query]")," lifted from your ",(0,r.kt)("inlineCode",{parentName:"p"},"[service database]")," into ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena")),"'s query editor to become your new ",(0,r.kt)("inlineCode",{parentName:"p"},"[transform SQL]")," code.  "),(0,r.kt)("p",null,"You should take this opportunity to tidy up and format your SQL code, making it easier to read, maintain, and spot errors.  "),(0,r.kt)("p",null,"\ud83d\udc49 You'll find considerations for SQL development discussed ",(0,r.kt)("strong",{parentName:"p"},"\u25ba",(0,r.kt)("a",{parentName:"strong",href:"../onboarding/prototype-simple-transforms#considerations-when-adopting-amazon-athena-for-your-future-sql-development"},"\ud83d\udca1here")),"."),(0,r.kt)("h2",{id:"5-verify-table-and-column-availability"},"5. Verify table and column availability"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," Over on the left of the Athena interface, expand the list under \u201c",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\u25bc")," Views"),"\u201d to verify your ",(0,r.kt)("inlineCode",{parentName:"p"},"[service raw zone]")," includes your ",(0,r.kt)("inlineCode",{parentName:"p"},"[service database]")," equivalent tables and columns matching those in your ",(0,r.kt)("inlineCode",{parentName:"p"},"[transform SQL]"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Fig. 5a"))," ",(0,r.kt)("img",{alt:"Fig. 5a",src:a(8174).Z,width:"331",height:"408"}),"  "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Fig. 5b"))," ",(0,r.kt)("img",{alt:"Fig. 5b",src:a(8504).Z,width:"323",height:"512"}),"  "),(0,r.kt)("h2",{id:"6-ensure-your-transform-sql-is-compatible-with-amazon-athena"},"6. Ensure your ",(0,r.kt)("inlineCode",{parentName:"h2"},"[transform SQL]")," is compatible with ",(0,r.kt)("strong",{parentName:"h2"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\udc41"))," Review your ",(0,r.kt)("inlineCode",{parentName:"p"},"[transform SQL]")," code to ensure all column functions and expressions are compatible with ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena")),", aiming to produce the same column output as the original ",(0,r.kt)("inlineCode",{parentName:"p"},"[legacy SQL query]"),". "),(0,r.kt)("p",null,"Often the easy way to test your SQL code compatibility is to simply try running it (as per ",(0,r.kt)("strong",{parentName:"p"},"Step 7"),"). It might succeed, or fail with errors that should inform you about what you need to change."),(0,r.kt)("p",null,"\ud83d\udc49 If your original column functions need replacing with equivalent ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena"))," functions then you can check the ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena")," documentation \u25ba ",(0,r.kt)("a",{parentName:"strong",href:"https://docs.aws.amazon.com/athena/latest/ug/functions.html"},"here")),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," Ensure your table names from your ",(0,r.kt)("inlineCode",{parentName:"p"},"[transform SQL]")," are fully qualified, as follows: "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Table names should be prefixed by their correct database names, eg. ",(0,r.kt)("inlineCode",{parentName:"p"},"[service raw zone].<table name>"),".  ")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena")),", by default, renders editor-inserted names encapsulated in ",(0,r.kt)("inlineCode",{parentName:"p"},'"')," double-quotes, eg. ",(0,r.kt)("inlineCode",{parentName:"p"},"\u201c[service raw zone]\u201d.\u201c<table name>\u201d"),".  You don't need to do this! But FYI, the quotes are a safeguard in case of column names containing spaces, even though we never allow that.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Your original ",(0,r.kt)("inlineCode",{parentName:"p"},"[service database]")," database name will not be used by ",(0,r.kt)("strong",{parentName:"p"},"DAP\u21e8flow"),", so you will need to swap it out with your ",(0,r.kt)("inlineCode",{parentName:"p"},"[service raw zone]"),"."))),(0,r.kt)("h2",{id:"7-run-your-transform-sql-query"},"7. Run your ",(0,r.kt)("inlineCode",{parentName:"h2"},"[transform SQL]")," query"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," After customizing the SQL code, click \u201c",(0,r.kt)("strong",{parentName:"p"},"Run"),"\u201d or \u201c",(0,r.kt)("strong",{parentName:"p"},"Run again"),"\u201d located underneath the code window on the left side in the ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena"))," interface.  "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Fig. 7"))," ",(0,r.kt)("img",{alt:"Fig. 7",src:a(3408).Z,width:"390",height:"161"})),(0,r.kt)("h2",{id:"8-review-the-results"},"8. Review the results"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\udc41"))," ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena"))," should fetch the same results as your ",(0,r.kt)("inlineCode",{parentName:"p"},"[legacy SQL query]")," would have, when run by your original ",(0,r.kt)("inlineCode",{parentName:"p"},"[service database]"),". If it is possible to make a direct comparison with the legacy system output then that should help you have confidence in the results of your prototype SQL.  "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Fig. 8"))," ",(0,r.kt)("img",{alt:"Fig. 8",src:a(1819).Z,width:"512",height:"169"})),(0,r.kt)("h2",{id:"9-save-your-query-as-transformsql"},"9. Save your query as ",(0,r.kt)("inlineCode",{parentName:"h2"},"[transform].sql")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," Check you are in your correct ",(0,r.kt)("inlineCode",{parentName:"p"},"[service workgroup]")," before clicking on the three dots ",(0,r.kt)("strong",{parentName:"p"},"\u22ee")," to the right of your Query tab, and clicking \u201c",(0,r.kt)("strong",{parentName:"p"},"Save as"),"\u201d.  "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Fig. 9a"))," ",(0,r.kt)("img",{alt:"Fig. 9a",src:a(9759).Z,width:"507",height:"374"}),"  "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddae"))," When the dialogue pops up, enter a name for your ",(0,r.kt)("inlineCode",{parentName:"p"},"[transform SQL]")," eg. ",(0,r.kt)("inlineCode",{parentName:"p"},"[transform].sql")," and write a description before clicking the \u201c",(0,r.kt)("strong",{parentName:"p"},"Save query"),"\u201d button."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Fig. 9b"))," ",(0,r.kt)("img",{alt:"Fig. 9b",src:a(3752).Z,width:"512",height:"354"})),(0,r.kt)("br",null),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"we--your-feedback"},(0,r.kt)("strong",{parentName:"h2"},(0,r.kt)("em",{parentName:"strong"},'"We')," \u2661 ",(0,r.kt)("em",{parentName:"strong"},'your feedback!"'))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"DAP\u21e8flow",src:a(2632).Z,width:"750",height:"100"}),"  "),(0,r.kt)("admonition",{title:"UX  ",type:"tip"},(0,r.kt)("h3",{parentName:"admonition",id:"-please-use-this-link--dapflow-ux-feedback--prototype-legacy-transforms"},"\ud83d\udc49 Please use ",(0,r.kt)("strong",{parentName:"h3"},"this link \u25ba")," ",(0,r.kt)("a",{parentName:"h3",href:"https://docs.google.com/forms/d/e/1FAIpQLSdqeNyWIPMNBHEr-YSyxnXQ4ggTwJPkffMYgFaJ4hGEhIL6LA/viewform?usp=pp_url&entry.339550210=prototype-legacy-transforms"},(0,r.kt)("strong",{parentName:"a"},"DAP\u21e8flow")," ",(0,r.kt)("inlineCode",{parentName:"a"},"UX")," ",(0,r.kt)("strong",{parentName:"a"},"Feedback / prototype-legacy-transforms"))),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Your feedback enables us to improve ",(0,r.kt)("strong",{parentName:"p"},"DAP\u21e8flow")," and our Data Analytics Platform service.  ")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"We encourage all our users to be generous with their time, in giving us their recollections and honest opinions about our service.  ")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"We especially encourage our new users to give feedback at the end of every ",(0,r.kt)("strong",{parentName:"p"},"\ud83d\udcdaOnboarding")," task because the quality of the onboarding experience really matters.  "),(0,r.kt)("p",{parentName:"li"},"  \u261d ",(0,r.kt)("strong",{parentName:"p"},"Please use this link to help us understand your user experience!"))))),(0,r.kt)("h2",{id:"ux-criteria"},"\ud83d\udcda",(0,r.kt)("inlineCode",{parentName:"h2"},"UX")," Criteria"),(0,r.kt)("admonition",{title:"ABILITY  ",type:"info"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"AWS Management Console")," user  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Amazon Athena")," beginner  "),(0,r.kt)("li",{parentName:"ul"},"Hackney ",(0,r.kt)("inlineCode",{parentName:"li"},"[service]")," Data Analyst"),(0,r.kt)("li",{parentName:"ul"},"Hackney ",(0,r.kt)("inlineCode",{parentName:"li"},"[service database]")," user"))),(0,r.kt)("admonition",{title:"BEHAVIOR  ",type:"note"},(0,r.kt)("h3",{parentName:"admonition",id:"how-do-i-use-amazon-athena-to-prototype-a-data-transformation-from-my-legacy-sql-query-1"},"How do I use ",(0,r.kt)("strong",{parentName:"h3"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena"))," to prototype a data transformation from my ",(0,r.kt)("inlineCode",{parentName:"h3"},"[legacy SQL query]"),"?"),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Measures")," the behavior of ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena"))," while users convert there ",(0,r.kt)("inlineCode",{parentName:"p"},"[legacy SQL query]")," into transforms:"),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Given")," in my web browser, I have accessed ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena")),(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"~and")," I have selected my ",(0,r.kt)("inlineCode",{parentName:"p"},"[service workgroup]"),(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"~and")," ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena"))," shows my ",(0,r.kt)("inlineCode",{parentName:"p"},"[service raw zone]")," with my ",(0,r.kt)("inlineCode",{parentName:"p"},"[service database]")," equivalent tables and columns",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"~and")," data was previously ingested from my ",(0,r.kt)("inlineCode",{parentName:"p"},"[service database]")," into my ",(0,r.kt)("inlineCode",{parentName:"p"},"[service raw zone]"),(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"~and")," I have my ",(0,r.kt)("inlineCode",{parentName:"p"},"[legacy SQL query]")," used by my ",(0,r.kt)("inlineCode",{parentName:"p"},"[service database]")," that I now want to migrate to ",(0,r.kt)("strong",{parentName:"p"},"DAP\u21e8flow"),"  "),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"When")," I copy-and-paste my ",(0,r.kt)("inlineCode",{parentName:"p"},"[legacy SQL query]")," into the query editor",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"~and")," I ensure all the column functions and expressions are made input-and-output-compatible with ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena")),(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"~and")," I ensure the table names are fully qualified, being prefixed with my ",(0,r.kt)("inlineCode",{parentName:"p"},"[service raw zone]")," instead of my ",(0,r.kt)("inlineCode",{parentName:"p"},"[service database]"),(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"~and")," I click \u201c",(0,r.kt)("strong",{parentName:"p"},"Run"),"\u201d underneath the code window on the left-hand side"),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Then")," ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Amazon Athena"))," should fetch results as would my ",(0,r.kt)("inlineCode",{parentName:"p"},"[legacy SQL query]")," have done when run by my ",(0,r.kt)("inlineCode",{parentName:"p"},"[service database]"),(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"~and")," I can save my new ",(0,r.kt)("inlineCode",{parentName:"p"},"[transform SQL]")," with a name ",(0,r.kt)("inlineCode",{parentName:"p"},"[transform].sql")," and a description in my ",(0,r.kt)("inlineCode",{parentName:"p"},"[service workgroup]"),".  "),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Scale")," of 4 to 8 ",(0,r.kt)("strong",{parentName:"p"},"~and")," flow features.  ")))}u.isMDXComponent=!0},2632:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/DAPairflowFLOWleft-e023069f4c3409ab8db1b918e04abb3b.png"},1819:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/prototype-legacy-transforms-eight-35e44488f12ad29458524d2054a9b57f.png"},8174:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/prototype-legacy-transforms-five-a-02c352beabf88e227a2eafce869ca70e.png"},8504:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/prototype-legacy-transforms-five-b-5738329e4b4512cdf760fda237701f11.png"},9759:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/prototype-legacy-transforms-nine-a-89447a3cea022b7a9619256b08a0fd9c.png"},3752:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/prototype-legacy-transforms-nine-b-1ae6d304bd37d17cde3d57239db2988b.png"},3408:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/prototype-legacy-transforms-seven-647d659fb9e9c91dbda407acb221615f.png"}}]);