"use strict";(self.webpackChunkdata_platform_playbook=self.webpackChunkdata_platform_playbook||[]).push([[9882],{4757:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var i=n(4848),s=n(8453);const r={id:"initial-extract-of-tenure-data",title:"Initial Extract of Tenure Data  - ADR 014",description:"",tags:["adr"],number:"14","date-issued":"2022-02-??",status:"Accepted"},a=void 0,o={id:"architecture-decisions/records/initial-extract-of-tenure-data",title:"Initial Extract of Tenure Data  - ADR 014",description:"",source:"@site/docs/architecture-decisions/records/014-initial-extract-of-tenure-data.md",sourceDirName:"architecture-decisions/records",slug:"/architecture-decisions/records/initial-extract-of-tenure-data",permalink:"/Data-Platform-Playbook/architecture-decisions/records/initial-extract-of-tenure-data",draft:!1,unlisted:!1,editUrl:"https://github.com/LBHackney-IT/data-platform-playbook/edit/master/docs/architecture-decisions/records/014-initial-extract-of-tenure-data.md",tags:[{inline:!0,label:"adr",permalink:"/Data-Platform-Playbook/tags/adr"}],version:"current",sidebarPosition:14,frontMatter:{id:"initial-extract-of-tenure-data",title:"Initial Extract of Tenure Data  - ADR 014",description:"",tags:["adr"],number:"14","date-issued":"2022-02-??",status:"Accepted"},sidebar:"docs",previous:{title:"Using Event Streaming to Ingest Data - ADR 013",permalink:"/Data-Platform-Playbook/architecture-decisions/records/using-event-streaming-to-ingest-data"},next:{title:"Spatial Data Processing - ADR 015",permalink:"/Data-Platform-Playbook/architecture-decisions/records/spatial-data-processing"}},c={},l=[{value:"Context",id:"context",level:2},{value:"Decision Drivers",id:"decision-drivers",level:2},{value:"Considered Options",id:"considered-options",level:2},{value:"Decision",id:"decision",level:2},{value:"Consequences",id:"consequences",level:2},{value:"Short Term",id:"short-term",level:3},{value:"Long Term",id:"long-term",level:3}];function d(e){const t={h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"context",children:"Context"}),"\n",(0,i.jsx)(t.p,{children:"The Data Platform team are interested in ingesting data from the Tenure API and a variety of other Hackney APIs. To this\nend we have decided to use event streaming to access the data."}),"\n",(0,i.jsx)(t.p,{children:"With event streaming, new entities, changes and deletions emit events that can be consumed by the Data Platform to track\nthe state of that system. However, this only works if we have an initial state to apply those changes to. We therefore\nneed a method of ingesting the current state of the system."}),"\n",(0,i.jsx)(t.h2,{id:"decision-drivers",children:"Decision Drivers"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Providing consistent data to analysts"}),"\n",(0,i.jsx)(t.li,{children:"Not impacting production services"}),"\n",(0,i.jsx)(t.li,{children:"Volume of work that the engineering team currently has"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"considered-options",children:"Considered Options"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Enhance the current event streaming process to emit a series of current state events which can then be consumed by the Data Platform to build the state"}),"\n",(0,i.jsx)(t.li,{children:"Provide a one off export of the state from the service and then consume this into the Data Platform"}),"\n",(0,i.jsx)(t.li,{children:"Extract the data directly from the services' data storage."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"decision",children:"Decision"}),"\n",(0,i.jsx)(t.p,{children:"The best long term solution is to enhance the event streaming process to emit a series of current state events for the\nData Platform to consume. This will allow the service to re-sync it's overall state at any time, without the intervention\nof the Data Platform team, in the event that there is an inconsistency."}),"\n",(0,i.jsx)(t.p,{children:"However, due to the development time required to implement this system we have opted to do a one time DynamoDb ingestion\nto bring in the initial state of the services until the development is complete."}),"\n",(0,i.jsx)(t.p,{children:"Our initial test candidate will be the Tenure API and therefore we will be performing in the ingestion twice. Once to test\nthe ingestion process works as expected and a subsequent ingestion to set the state of the service."}),"\n",(0,i.jsx)(t.h2,{id:"consequences",children:"Consequences"}),"\n",(0,i.jsx)(t.h3,{id:"short-term",children:"Short Term"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"The Data Platform will need direct access to the APIs data storage in order to perform the ingestion"}),"\n",(0,i.jsx)(t.li,{children:"The process is not designed to be maintainable and should not be repeated multiple times"}),"\n",(0,i.jsx)(t.li,{children:"Any data inconsistencies will be difficult to resolve."}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"long-term",children:"Long Term"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"All APIs will need to be designed to emit current state events when required."}),"\n",(0,i.jsx)(t.li,{children:"Large amounts of data will be pushed through the event streaming infrastructure"}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var i=n(6540);const s={},r=i.createContext(s);function a(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);