"use strict";(self.webpackChunkdata_platform_playbook=self.webpackChunkdata_platform_playbook||[]).push([[4089],{5084:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});var r=s(4848),i=s(8453);const a={id:"query-my-service-data",title:"Query my service data",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",layout:"playbook_js",tags:["onboarding"]},o="How will I query and analyze my [service]'s data with Amazon Athena?",t={id:"dap-airflow/onboarding/query-my-service-data",title:"Query my service data",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",source:"@site/docs/dap-airflow/onboarding/query-my-service-data.md",sourceDirName:"dap-airflow/onboarding",slug:"/dap-airflow/onboarding/query-my-service-data",permalink:"/Data-Platform-Playbook/dap-airflow/onboarding/query-my-service-data",draft:!1,unlisted:!1,editUrl:"https://github.com/LBHackney-IT/data-platform-playbook/edit/master/docs/dap-airflow/onboarding/query-my-service-data.md",tags:[{inline:!0,label:"onboarding",permalink:"/Data-Platform-Playbook/tags/onboarding"}],version:"current",frontMatter:{id:"query-my-service-data",title:"Query my service data",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",layout:"playbook_js",tags:["onboarding"]},sidebar:"docs",previous:{title:"My service data history",permalink:"/Data-Platform-Playbook/dap-airflow/onboarding/access-my-service-data-history"},next:{title:"Prototype simple transforms",permalink:"/Data-Platform-Playbook/dap-airflow/onboarding/prototype-simple-transforms"}},d={},l=[{value:"1. Access <em><strong>Amazon Athena</strong></em>",id:"1-access-amazon-athena",level:2},{value:"2. Select your <code>[service workgroup]</code>",id:"2-select-your-service-workgroup",level:2},{value:"3. Explore your database",id:"3-explore-your-database",level:2},{value:"4. Familiarize yourself with SQL queries",id:"4-familiarize-yourself-with-sql-queries",level:2},{value:"5. Run SQL queries",id:"5-run-sql-queries",level:2},{value:"6. Analyze your data",id:"6-analyze-your-data",level:2},{value:"<strong><em>&quot;We</em> \u2661 <em>your feedback!&quot;</em></strong>",id:"we--your-feedback",level:2},{value:"\ud83d\udc49 Please use <strong>this link \u25ba</strong> <strong>DAP\u21e8flow</strong> <code>UX</code> <strong>Feedback / query-my-service-data</strong>",id:"-please-use-this-link--dapflow-ux-feedback--query-my-service-data",level:3},{value:"\ud83d\udcda<code>UX</code> Criteria",id:"ux-criteria",level:2},{value:"How will I query and analyze my <code>[service]</code>&#39;s data with <em><strong>Amazon Athena</strong></em>?",id:"how-will-i-query-and-analyze-my-services-data-with-amazon-athena-1",level:3}];function c(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsxs)(n.h1,{id:"how-will-i-query-and-analyze-my-services-data-with-amazon-athena",children:["How will I query and analyze my ",(0,r.jsx)(n.code,{children:"[service]"}),"'s data with ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})}),"?"]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"DAP\u21e8flow",src:s(2854).A+"",width:"750",height:"100"})}),"\n",(0,r.jsxs)(n.h2,{id:"1-access-amazon-athena",children:["1. Access ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})})," In your web browser, log in to your AWS account, navigate to the AWS Management Console, and open Amazon Athena."]}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udc49 First time Amazon Athena users should ",(0,r.jsx)(n.strong,{children:"start here \u25ba"})," ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"../onboarding/access-my-Amazon-Athena-database",children:"DAP\u21e8flow\ud83d\udcdaAmazon Athena"})})]}),"\n",(0,r.jsxs)(n.h2,{id:"2-select-your-service-workgroup",children:["2. Select your ",(0,r.jsx)(n.code,{children:"[service workgroup]"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})})," Ensure you have selected your ",(0,r.jsx)(n.code,{children:"[service workgroup]"})," from the list box next to \u201c",(0,r.jsx)(n.strong,{children:"Workgroup"}),"\u201d."]}),"\n",(0,r.jsx)(n.admonition,{title:"REMINDER",type:"info",children:(0,r.jsxs)(n.p,{children:["\ud83d\udc49  Your ",(0,r.jsxs)(n.strong,{children:["Service Terms",(0,r.jsx)(n.code,{children:"[]"})]})," are defined in the ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"welcome"})})," document stored in your ",(0,r.jsxs)(n.a,{href:"https://drive.google.com/drive/folders/1k30M7Hh8WLttL5T5JVGbnKvSLNX7lVSg?usp=drive_link",children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"[service access group]"})})," ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Google Drive subfolder"})})]}),"."]})}),"\n",(0,r.jsx)(n.h2,{id:"3-explore-your-database",children:"3. Explore your database"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})})," Ensure you have selected your ",(0,r.jsx)(n.code,{children:"[service raw zone]"}),' database from the list box under "',(0,r.jsx)(n.strong,{children:"Database"}),'" on the left side of the Athena interface, before expanding the lists under "',(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"\u25ba"})," Tables"]}),'" and/or "',(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"\u25ba"})," Views"]}),". Expanding further should reveal column names and data types, as follows:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:['"',(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"\u25bc"})," Tables"]}),'"',(0,r.jsx)(n.br,{}),"\n","\ud83d\udc49 Documented here \u25ba ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"../onboarding/access-my-service-data-history",children:"\ud83d\udcdaMy service data history"})})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:['"',(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"\u25bc"})," Views"]}),'"',(0,r.jsx)(n.br,{}),"\n","\ud83d\udc49 Documented here \u25ba ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"../onboarding/access-my-current-service-data",children:"\ud83d\udcdaMy current service data"})})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"4-familiarize-yourself-with-sql-queries",children:"4. Familiarize yourself with SQL queries"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\udd6e"})})," You will need to understand the concepts and basic requirements of writing SQL queries. This includes knowing how to select columns, filter data, join tables, etc."]}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udc49 You can learn more about using Amazon Athena ",(0,r.jsx)(n.strong,{children:"\u25ba"})," ",(0,r.jsx)(n.a,{href:"https://docs.aws.amazon.com/athena/latest/ug/using-athena-sql.html",children:(0,r.jsx)(n.strong,{children:"here"})})]}),"\n",(0,r.jsx)(n.h2,{id:"5-run-sql-queries",children:"5. Run SQL queries"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})})," Use the SQL query editor in ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})})," to write and run queries involving tables and columns equivalent to the your original ",(0,r.jsx)(n.code,{children:"[service database]"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"Fig. 5"})})," ",(0,r.jsx)(n.img,{alt:"Fig. 5",src:s(795).A+"",width:"512",height:"342"})]}),"\n",(0,r.jsx)(n.h2,{id:"6-analyze-your-data",children:"6. Analyze your data"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\udc41"})})," Review the results of your SQL queries to find answers to your questions about your ",(0,r.jsx)(n.code,{children:"[service database]"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"Fig. 6"})})," ",(0,r.jsx)(n.img,{alt:"Fig. 6",src:s(5808).A+"",width:"512",height:"325"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})})," You can copy results to the clipboard."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})})," You can download the results into a CSV file."]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"we--your-feedback",children:(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.em,{children:'"We'})," \u2661 ",(0,r.jsx)(n.em,{children:'your feedback!"'})]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"DAP\u21e8flow",src:s(2854).A+"",width:"750",height:"100"})}),"\n",(0,r.jsxs)(n.admonition,{title:"UX",type:"tip",children:[(0,r.jsxs)(n.h3,{id:"-please-use-this-link--dapflow-ux-feedback--query-my-service-data",children:["\ud83d\udc49 Please use ",(0,r.jsx)(n.strong,{children:"this link \u25ba"})," ",(0,r.jsxs)(n.a,{href:"https://docs.google.com/forms/d/e/1FAIpQLSdqeNyWIPMNBHEr-YSyxnXQ4ggTwJPkffMYgFaJ4hGEhIL6LA/viewform?usp=pp_url&entry.339550210=query-my-service-data",children:[(0,r.jsx)(n.strong,{children:"DAP\u21e8flow"})," ",(0,r.jsx)(n.code,{children:"UX"})," ",(0,r.jsx)(n.strong,{children:"Feedback / query-my-service-data"})]})]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Your feedback enables us to improve ",(0,r.jsx)(n.strong,{children:"DAP\u21e8flow"})," and our Data Analytics Platform service."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"We encourage all our users to be generous with their time, in giving us their recollections and honest opinions about our service."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["We especially encourage our new users to give feedback at the end of every ",(0,r.jsx)(n.strong,{children:"\ud83d\udcdaOnboarding"})," task because the quality of the onboarding experience really matters."]}),"\n",(0,r.jsxs)(n.p,{children:["\u261d ",(0,r.jsx)(n.strong,{children:"Please use this link to help us understand your user experience!"})]}),"\n"]}),"\n"]})]}),"\n",(0,r.jsxs)(n.h2,{id:"ux-criteria",children:["\ud83d\udcda",(0,r.jsx)(n.code,{children:"UX"})," Criteria"]}),"\n",(0,r.jsx)(n.admonition,{title:"ABILITY",type:"info",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"AWS Management Console"})," user"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Amazon Athena"})," user"]}),"\n",(0,r.jsxs)(n.li,{children:["Hackney ",(0,r.jsx)(n.code,{children:"[service]"})," Data Analyst"]}),"\n",(0,r.jsxs)(n.li,{children:["Hackney ",(0,r.jsx)(n.code,{children:"[service database]"})," user"]}),"\n"]})}),"\n",(0,r.jsxs)(n.admonition,{title:"BEHAVIOR",type:"note",children:[(0,r.jsxs)(n.h3,{id:"how-will-i-query-and-analyze-my-services-data-with-amazon-athena-1",children:["How will I query and analyze my ",(0,r.jsx)(n.code,{children:"[service]"}),"'s data with ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})}),"?"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Measures"})," the behavior of ",(0,r.jsx)(n.strong,{children:"Amazon Athena"})," when users' run working SQL queries:"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Given"})," in my web browser, I have accessed ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"~and"})," I have selected my ",(0,r.jsx)(n.code,{children:"[service workgroup]"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"~and"})," Amazon Athena shows my ",(0,r.jsx)(n.code,{children:"[service raw zone]"})," with my ",(0,r.jsx)(n.code,{children:"[service database]"})," equivalent tables and columns",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"~and"})," I am familiar with the concepts and basic requirements of writing an ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})})," SQL query"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"When"})," I run my SQL query containing given those tables and columns"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Then"})," I should be able to find answers to my questions about my ",(0,r.jsx)(n.code,{children:"[service database]"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"~and"})," I can copy results to the clipboard",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"~and"})," I can download the results into a CSV file"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Scale"})," of 2 to 5 ",(0,r.jsx)(n.strong,{children:"~and"})," flow features."]})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},2854:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/DAPairflowFLOWleft-e023069f4c3409ab8db1b918e04abb3b.png"},795:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/query-my-service-data-five-27dcec49cc548fbd24fd2bb31720d4a6.png"},5808:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/query-my-service-data-six-245006027c1d25a07110cc8d0d884d08.png"},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>t});var r=s(6540);const i={},a=r.createContext(i);function o(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);