"use strict";(self.webpackChunkdata_platform_playbook=self.webpackChunkdata_platform_playbook||[]).push([[8517],{5219:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>a,metadata:()=>o,toc:()=>l});var r=s(4848),i=s(8453);const a={id:"query-my-service-data",title:"Query my service data",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",layout:"playbook_js",tags:["onboarding"]},t="How will I query and analyze my [service]'s data with Amazon Athena?",o={id:"dap-airflow/parking/query-my-service-data",title:"Query my service data",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",source:"@site/docs/dap-airflow/parking/query-my-service-data.md",sourceDirName:"dap-airflow/parking",slug:"/dap-airflow/parking/query-my-service-data",permalink:"/Data-Platform-Playbook/dap-airflow/parking/query-my-service-data",draft:!1,unlisted:!1,editUrl:"https://github.com/LBHackney-IT/data-platform-playbook/edit/master/docs/dap-airflow/parking/query-my-service-data.md",tags:[{inline:!0,label:"onboarding",permalink:"/Data-Platform-Playbook/tags/onboarding"}],version:"current",frontMatter:{id:"query-my-service-data",title:"Query my service data",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",layout:"playbook_js",tags:["onboarding"]},sidebar:"docs",previous:{title:"My current service data",permalink:"/Data-Platform-Playbook/dap-airflow/parking/access-my-current-service-data"},next:{title:"Prototype simple transforms",permalink:"/Data-Platform-Playbook/dap-airflow/parking/prototype-simple-transforms"}},d={},l=[{value:"1. Access <em><strong>Amazon Athena</strong></em>",id:"1-access-amazon-athena",level:2},{value:"2. Select your <code>[service workgroup]</code>",id:"2-select-your-service-workgroup",level:2},{value:"3. Explore your database",id:"3-explore-your-database",level:2},{value:"4. Familiarize yourself with SQL queries",id:"4-familiarize-yourself-with-sql-queries",level:2},{value:"5. Run SQL queries",id:"5-run-sql-queries",level:2},{value:"6. Analyze your data",id:"6-analyze-your-data",level:2},{value:"<strong><em>&quot;We</em> \u2661 <em>your feedback!&quot;</em></strong>",id:"we--your-feedback",level:2},{value:"\ud83d\udc49 Please use <strong>this link \u25ba</strong> <strong>DAP\u21e8flow</strong> <code>UX</code> <strong>Feedback / query-my-service-data</strong>",id:"-please-use-this-link--dapflow-ux-feedback--query-my-service-data",level:3},{value:"\ud83d\udcda<code>UX</code> Criteria",id:"ux-criteria",level:2},{value:"How will I query and analyze my <code>[service]</code>&#39;s data with <em><strong>Amazon Athena</strong></em>?",id:"how-will-i-query-and-analyze-my-services-data-with-amazon-athena-1",level:3}];function c(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsxs)(n.h1,{id:"how-will-i-query-and-analyze-my-services-data-with-amazon-athena",children:["How will I query and analyze my ",(0,r.jsx)(n.code,{children:"[service]"}),"'s data with ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})}),"?"]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"DAP\u21e8flow",src:s(2925).A+"",width:"572",height:"104"})}),"\n",(0,r.jsxs)(n.h2,{id:"1-access-amazon-athena",children:["1. Access ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})})," In your web browser, log in to your AWS account, navigate to the AWS Management Console, and open Amazon Athena."]}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udc49 First time Amazon Athena users should ",(0,r.jsx)(n.strong,{children:"start here \u25ba"})," ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"../parking/access-my-Amazon-Athena-database",children:"\ud83d\udcdaAmazon Athena"})})]}),"\n",(0,r.jsxs)(n.h2,{id:"2-select-your-service-workgroup",children:["2. Select your ",(0,r.jsx)(n.code,{children:"[service workgroup]"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})})," Ensure you have selected your ",(0,r.jsx)(n.code,{children:"[service workgroup]"})," from the list-box next to \u201c",(0,r.jsx)(n.strong,{children:"Workgroup"}),"\u201d."]}),"\n",(0,r.jsx)(n.admonition,{title:"REMINDER",type:"info",children:(0,r.jsxs)(n.p,{children:["\ud83d\udc49  Your ",(0,r.jsxs)(n.strong,{children:["Service Terms",(0,r.jsx)(n.code,{children:"[]"})]})," are defined in your ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"welcome"})})," document stored in your ",(0,r.jsx)(n.code,{children:"[service access group]"}),"'s **\u25ba ** ",(0,r.jsx)(n.a,{href:"https://drive.google.com/drive/folders/1soY6hORmPVlRvlW_t1V1hTFXfZbLt6NS?usp=drive_link",children:(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Google Drive subfolder"})})}),"."]})}),"\n",(0,r.jsx)(n.h2,{id:"3-explore-your-database",children:"3. Explore your database"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})})," Find and select the ",(0,r.jsx)(n.code,{children:"[service zones]"})," database which is equivalent to your ",(0,r.jsx)(n.code,{children:"[service database]"}),', from the list-box under "',(0,r.jsx)(n.strong,{children:"Database"}),'" on the left side of the Athena interface.']}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})}),' Expand the list under "',(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"\u25ba"})," Tables"]}),'" to reveal the database objects there.']}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\udc41"})})," You should observe your ",(0,r.jsx)(n.code,{children:"[service database]"})," equivalent tables, suffixed with ",(0,r.jsx)(n.code,{children:"_latest"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})}),' Click "',(0,r.jsx)(n.code,{children:"\ud83d\udfa7"}),'" adjacent a table name with the suffix ',(0,r.jsx)(n.code,{children:"_latest"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\udc41"})})," You should observe column names and data types, equivalent to the same table in your ",(0,r.jsx)(n.code,{children:"[service database]"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"4-familiarize-yourself-with-sql-queries",children:"4. Familiarize yourself with SQL queries"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\udd6e"})})," You will need to understand the basic concepts and requirements of writing SQL queries. This includes knowing how to select columns, filter data, join tables, etc."]}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udc49 There is a comprehensive guide to help you write Athena SQL queries ",(0,r.jsx)(n.strong,{children:"provided here \u25ba"})," ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"../parking/prototype-simple-transforms",children:"\ud83d\udcdaPrototype simple transforms"})})]}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udc49 You can also learn more about using Amazon Athena ",(0,r.jsx)(n.strong,{children:"\u25ba"})," ",(0,r.jsx)(n.a,{href:"https://docs.aws.amazon.com/athena/latest/ug/using-athena-sql.html",children:(0,r.jsx)(n.strong,{children:"here"})})]}),"\n",(0,r.jsx)(n.h2,{id:"5-run-sql-queries",children:"5. Run SQL queries"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})})," Use the SQL query editor in ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})})," to write and run queries involving tables and columns equivalent to those in your original ",(0,r.jsx)(n.code,{children:"[service database]"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"Fig. 5"})})," ",(0,r.jsx)(n.img,{alt:"Fig. 5",src:s(3854).A+"",width:"1028",height:"715"})]}),"\n",(0,r.jsx)(n.h2,{id:"6-analyze-your-data",children:"6. Analyze your data"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\udc41"})})," Review the results of your SQL queries to find answers to your questions about your ",(0,r.jsx)(n.code,{children:"[service database]"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"Fig. 6"})})," ",(0,r.jsx)(n.img,{alt:"Fig. 6",src:s(4756).A+"",width:"1707",height:"823"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})})," You can copy results to the clipboard."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})})," You can download the results into a CSV file."]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"we--your-feedback",children:(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.em,{children:'"We'})," \u2661 ",(0,r.jsx)(n.em,{children:'your feedback!"'})]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"DAP\u21e8flow",src:s(2925).A+"",width:"572",height:"104"})}),"\n",(0,r.jsxs)(n.admonition,{title:"UX",type:"tip",children:[(0,r.jsxs)(n.h3,{id:"-please-use-this-link--dapflow-ux-feedback--query-my-service-data",children:["\ud83d\udc49 Please use ",(0,r.jsx)(n.strong,{children:"this link \u25ba"})," ",(0,r.jsxs)(n.a,{href:"https://docs.google.com/forms/d/e/1FAIpQLSc7nv1XmfRJKZlZTYIJQxAwbimUfsZLXQOVt3TJO-zUOjcRGQ/viewform?usp=pp_url&entry.339550210=query-my-service-data",children:[(0,r.jsx)(n.strong,{children:"DAP\u21e8flow"})," ",(0,r.jsx)(n.code,{children:"UX"})," ",(0,r.jsx)(n.strong,{children:"Feedback / query-my-service-data"})]})]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Your feedback enables us to improve ",(0,r.jsx)(n.strong,{children:"DAP\u21e8flow"})," and our Data Analytics Platform service."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"We encourage all our users to be generous with their time, in giving us their recollections and honest opinions about our service."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["We especially encourage our new users to give feedback at the end of every ",(0,r.jsx)(n.strong,{children:"DAP\u21e8flow\ud83d\udcdaMigration onboarding"})," task because the quality of the onboarding experience really matters."]}),"\n",(0,r.jsxs)(n.p,{children:["\u261d ",(0,r.jsx)(n.strong,{children:"Please use this link to help us understand your user experience!"})]}),"\n"]}),"\n"]})]}),"\n",(0,r.jsxs)(n.h2,{id:"ux-criteria",children:["\ud83d\udcda",(0,r.jsx)(n.code,{children:"UX"})," Criteria"]}),"\n",(0,r.jsx)(n.admonition,{title:"ABILITY",type:"info",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"AWS Management Console"})," user"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Amazon Athena"})," user"]}),"\n",(0,r.jsxs)(n.li,{children:["Hackney ",(0,r.jsx)(n.code,{children:"[service]"})," Data Analyst"]}),"\n",(0,r.jsxs)(n.li,{children:["Hackney ",(0,r.jsx)(n.code,{children:"[service database]"})," user"]}),"\n"]})}),"\n",(0,r.jsxs)(n.admonition,{title:"BEHAVIOR",type:"note",children:[(0,r.jsxs)(n.h3,{id:"how-will-i-query-and-analyze-my-services-data-with-amazon-athena-1",children:["How will I query and analyze my ",(0,r.jsx)(n.code,{children:"[service]"}),"'s data with ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})}),"?"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Measures"})," the behavior of ",(0,r.jsx)(n.strong,{children:"Amazon Athena"})," when users' run working SQL queries:"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Given"})," in my web browser, I have accessed ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"~and"})," I have selected my ",(0,r.jsx)(n.code,{children:"[service workgroup]"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"~and"})," Amazon Athena shows a ",(0,r.jsx)(n.code,{children:"[service zones]"})," database equivalent to my ",(0,r.jsx)(n.code,{children:"[service database]"}),", having equivalent tables suffixed with ",(0,r.jsx)(n.code,{children:"_latest"}),", with the same columns and associated data types",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"~and"})," I am familiar with the concepts and basic requirements of writing an ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})})," SQL query"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"When"})," I run my SQL query containing given those tables and columns"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Then"})," I should be able to find answers to my questions about my ",(0,r.jsx)(n.code,{children:"[service database]"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"~and"})," I can copy results to the clipboard",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"~and"})," I can download the results into a CSV file"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Scale"})," of 2 to 5 ",(0,r.jsx)(n.strong,{children:"~and"})," flow features."]})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},2925:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/DAPairflowFLOWmigration-830611039dd78e60e8911313d6eb9dd4.png"},3854:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/parking-query-my-service-data-five-151986cd039c638dfa14ca27fd045643.png"},4756:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/parking-query-my-service-data-six-d246ff0cba2080d4a41ff64b49648cad.png"},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var r=s(6540);const i={},a=r.createContext(i);function t(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);