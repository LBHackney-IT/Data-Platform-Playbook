"use strict";(self.webpackChunkdata_platform_playbook=self.webpackChunkdata_platform_playbook||[]).push([[6559],{2903:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>d});var i=n(4848),s=n(8453);const a={id:"using-event-streaming-to-ingest-data",title:"Using Event Streaming to Ingest Data - ADR 013",description:"",tags:["adr"],number:"13","date-issued":"2022-01-01",status:"Accepted"},o=void 0,r={id:"architecture-decisions/records/using-event-streaming-to-ingest-data",title:"Using Event Streaming to Ingest Data - ADR 013",description:"",source:"@site/docs/architecture-decisions/records/013-using-event-streaming-to-ingest-data.md",sourceDirName:"architecture-decisions/records",slug:"/architecture-decisions/records/using-event-streaming-to-ingest-data",permalink:"/Data-Platform-Playbook/architecture-decisions/records/using-event-streaming-to-ingest-data",draft:!1,unlisted:!1,editUrl:"https://github.com/LBHackney-IT/data-platform-playbook/edit/master/docs/architecture-decisions/records/013-using-event-streaming-to-ingest-data.md",tags:[{inline:!0,label:"adr",permalink:"/Data-Platform-Playbook/tags/adr"}],version:"current",sidebarPosition:13,frontMatter:{id:"using-event-streaming-to-ingest-data",title:"Using Event Streaming to Ingest Data - ADR 013",description:"",tags:["adr"],number:"13","date-issued":"2022-01-01",status:"Accepted"},sidebar:"docs",previous:{title:"Move Staging to Pre-Production - ADR 012",permalink:"/Data-Platform-Playbook/architecture-decisions/records/move-staging-to-pre-production"},next:{title:"Initial Extract of Tenure Data  - ADR 014",permalink:"/Data-Platform-Playbook/architecture-decisions/records/initial-extract-of-tenure-data"}},c={},d=[{value:"Context",id:"context",level:2},{value:"Decision Drivers",id:"decision-drivers",level:2},{value:"Considered Options",id:"considered-options",level:2},{value:"Decision",id:"decision",level:2},{value:"Consequences",id:"consequences",level:2}];function l(e){const t={a:"a",h2:"h2",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"context",children:"Context"}),"\n",(0,i.jsxs)(t.p,{children:["The Data Platform team are interested in ingesting data from a variate of Hackney APIs. We will need to access this data\nwithout connecting directly to the production databases see ",(0,i.jsx)(t.a,{href:"/architecture-decisions/records/do-not-connect-to-production-databases",children:"ADR 012"})]}),"\n",(0,i.jsx)(t.p,{children:"We have therefore explored different options for transferring the data into the Data Platform."}),"\n",(0,i.jsx)(t.h2,{id:"decision-drivers",children:"Decision Drivers"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Security"}),"\n",(0,i.jsx)(t.li,{children:"Service Data Store Ownership"}),"\n",(0,i.jsx)(t.li,{children:"Time to Insight"}),"\n",(0,i.jsx)(t.li,{children:"Data Consistency"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"considered-options",children:"Considered Options"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Access data via read-only replicas"}),"\n",(0,i.jsx)(t.li,{children:"Scrape the APIs to get the state of each object"}),"\n",(0,i.jsx)(t.li,{children:"Stream data change events from the system"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"decision",children:"Decision"}),"\n",(0,i.jsx)(t.p,{children:"Most of the Hackney APIs are capable of event streaming. This is one of the best ways for us to bring data into the\nData Platform as it places control over the data into the hands of the service team and the process is entirely push\nbased. Rather than an extraction process where the data platform is required to pull the data from the service leaving\nthe process under the control of the Data Platform team and forming a dependency between both systems."}),"\n",(0,i.jsx)(t.h2,{id:"consequences",children:"Consequences"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"We will need to decide on the best method of providing initial state to the Data Platform as Event Streaming only covers new changes"}),"\n",(0,i.jsx)(t.li,{children:'The process is classified as "Eventually Consistent" as it doesn\'t garentee the state at a specific point, only that the data will eventually become consistent at the point that all events have been received and processed.'}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>r});var i=n(6540);const s={},a=i.createContext(s);function o(e){const t=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(a.Provider,{value:t},e.children)}}}]);