"use strict";(self.webpackChunkdata_platform_playbook=self.webpackChunkdata_platform_playbook||[]).push([[9896],{3905:function(e,t,a){a.d(t,{Zo:function(){return u},kt:function(){return m}});var o=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,o,n=function(e,t){if(null==e)return{};var a,o,n={},i=Object.keys(e);for(o=0;o<i.length;o++)a=i[o],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)a=i[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=o.createContext({}),c=function(e){var t=o.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},u=function(e){var t=c(e.components);return o.createElement(s.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var a=e.components,n=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(a),m=n,d=p["".concat(s,".").concat(m)]||p[m]||h[m]||i;return a?o.createElement(d,r(r({ref:t},u),{},{components:a})):o.createElement(d,r({ref:t},u))}));function m(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=a.length,r=new Array(i);r[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:n,r[1]=l;for(var c=2;c<i;c++)r[c]=a[c];return o.createElement.apply(null,r)}return o.createElement.apply(null,a)}p.displayName="MDXCreateElement"},3207:function(e,t,a){a.r(t),a.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return h}});var o=a(3117),n=a(102),i=(a(7294),a(3905)),r=["components"],l={title:"Using GitHub",description:"A guide on how to carry out common tasks in GitHub",layout:"playbook_js",tags:["playbook"]},s=void 0,c={unversionedId:"playbook/getting-set-up/using-github",id:"playbook/getting-set-up/using-github",title:"Using GitHub",description:"A guide on how to carry out common tasks in GitHub",source:"@site/docs/playbook/getting-set-up/using-github.md",sourceDirName:"playbook/getting-set-up",slug:"/playbook/getting-set-up/using-github",permalink:"/Data-Platform-Playbook/playbook/getting-set-up/using-github",draft:!1,editUrl:"https://github.com/LBHackney-IT/data-platform-playbook/edit/master/docs/playbook/getting-set-up/using-github.md",tags:[{label:"playbook",permalink:"/Data-Platform-Playbook/tags/playbook"}],version:"current",frontMatter:{title:"Using GitHub",description:"A guide on how to carry out common tasks in GitHub",layout:"playbook_js",tags:["playbook"]},sidebar:"docs",previous:{title:"Onboarding new users to the platform",permalink:"/Data-Platform-Playbook/playbook/getting-set-up/onboarding-new-users-to-the-platform"},next:{title:"Data Catalogue",permalink:"/Data-Platform-Playbook/playbook/elements-of-the-platform/data-catalogue"}},u={},h=[{value:"Objective of this article",id:"objective-of-this-article",level:2},{value:"What is GitHub used for?",id:"what-is-github-used-for",level:2},{value:"Getting access to GitHub",id:"getting-access-to-github",level:2},{value:"Committing your changes to the Data Platform Project",id:"committing-your-changes-to-the-data-platform-project",level:2},{value:"Introduction about branches",id:"introduction-about-branches",level:3},{value:"Creating a branch to commit multiple changes",id:"creating-a-branch-to-commit-multiple-changes",level:3},{value:"Committing one change",id:"committing-one-change",level:3}],p={toc:h};function m(e){var t=e.components,l=(0,n.Z)(e,r);return(0,i.kt)("wrapper",(0,o.Z)({},p,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"objective-of-this-article"},"Objective of this article"),(0,i.kt)("p",null,"To provide general guidance and assist you in performing common tasks in GitHub."),(0,i.kt)("h2",{id:"what-is-github-used-for"},"What is GitHub used for?"),(0,i.kt)("p",null,"GitHub is a repository which stores the code for the data platform's infrastructure and processes (including the code for this playbook). It enables us to track and test any changes in the code before they reach the platform. Many of the processes within this playbook require you to make changes to code in GitHub in order to see them in the data platform, for example ",(0,i.kt)("a",{parentName:"p",href:"https://playbook.hackney.gov.uk/Data-Platform-Playbook/playbook/ingesting-data/google-sheets-import"},"ingesting data from Google Sheets")," or ",(0,i.kt)("a",{parentName:"p",href:"https://playbook.hackney.gov.uk/Data-Platform-Playbook/playbook/transforming-data/using-aws-glue/deploy-glue-jobs"},"creating Glue jobs to transform your data"),"."),(0,i.kt)("h2",{id:"getting-access-to-github"},"Getting access to GitHub"),(0,i.kt)("p",null,"You'll need to ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/signup"},"create a GitHub account")," if you don't already have one, using your Hackney email. You'll also need to ",(0,i.kt)("a",{parentName:"p",href:"https://docs.github.com/en/authentication/securing-your-account-with-two-factor-authentication-2fa/configuring-two-factor-authentication"},"set up 2 factor authentication")," in your GitHub account."),(0,i.kt)("p",null,"Once you've done this, you'll need to ask Rashmi Shetty (Development Manager) to add you to the 'LBHackney-IT' team. This will enable you to contribute to the Data Platform projects in the team account."),(0,i.kt)("p",null,"There are two ways to use GitHub:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Using the GitHub web browser interface (simply at ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/"},"github.com"),"). This is the easiest to use and enables you to make simple changes through a user interface."),(0,i.kt)("li",{parentName:"ol"},"Using the ",(0,i.kt)("a",{parentName:"li",href:"https://desktop.github.com/"},"GitHub app"),". This is a more advanced tool which requires more configuration and coding.")),(0,i.kt)("h2",{id:"committing-your-changes-to-the-data-platform-project"},"Committing your changes to the Data Platform Project"),(0,i.kt)("h3",{id:"introduction-about-branches"},"Introduction about branches"),(0,i.kt)("p",null,"The Data Platform repository contains several branches, i.e. several versions of the code base. The current live branch is called main, this is the only branch which gets deployed into the AWS environment. You can see which branch you are looking at in the dropdown list above the code section. In the screenshot below (default configuration), we're looking at the main branch. "),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Looking at the main branch",src:a(1624).Z,width:"2304",height:"658"})),(0,i.kt)("p",null,"In the screenshot below, we are looking at a secondary branch that has diverged a lot: 19 changes have been committed and aren't in main yet. And since it was created, 435 changes have happened on main! "),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Looking at a secondary branch",src:a(3245).Z,width:"2306",height:"762"})),(0,i.kt)("p",null,"As a security measure, nobody is allowed to commit changes directly onto the main branch. Instead, changes are made on new branches that temporarily diverge from the main branch. These new branches get merged to the main branch via a process called ",(0,i.kt)("inlineCode",{parentName:"p"},"Pull Request (PR)")," that involves some peer review of the code changes. This greatly reduces the risk of deploying faulty code to the Data Platform.\nTwo approaches are detailed below to commit your changes: creating a new branch first (useful when you want to bundle several changes), or making your changes first and creating the branch on the fly at the time you 'save' (quicker if you are only editing or creating a single file)."),(0,i.kt)("h3",{id:"creating-a-branch-to-commit-multiple-changes"},"Creating a branch to commit multiple changes"),(0,i.kt)("p",null,"If you are making changes to multiple files you may wish to create a branch and submit the changes at the same time. This can prevent conflicts later on when there are inter-dependencies in the files you are submitting  (eg one refers to the other). "),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Navigate to GitHub site and drop down the branches, type the name of your new branch and select ",(0,i.kt)("inlineCode",{parentName:"li"},"Create branch"),(0,i.kt)("img",{parentName:"li",src:"https://user-images.githubusercontent.com/5946742/201316320-f90d2274-d258-48fa-865b-4e5456e5fb9e.PNG",alt:"Create Branch"})),(0,i.kt)("li",{parentName:"ol"},"Make the changes to existing files or add new files in the new branch you have created. When you ",(0,i.kt)("inlineCode",{parentName:"li"},"Propose changes")," at the bottom of the document you will add them to branch you have created. "),(0,i.kt)("li",{parentName:"ol"},"Once you have finished creating or editing files, navigate to the Pull Releases page and you will see ",(0,i.kt)("inlineCode",{parentName:"li"},"Compare and pull request"),". Select this and submit your Pull Request with some commentary on the changes you are proposing.\n",(0,i.kt)("img",{parentName:"li",src:"https://user-images.githubusercontent.com/5946742/201317135-6ccb6b7c-b39f-4be8-be41-34c4091eda5b.PNG",alt:"Create PR"}))),(0,i.kt)("p",null,"The remaining process is the same as outlined from step 6 below. "),(0,i.kt)("h3",{id:"committing-one-change"},"Committing one change"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Navigate to the ",(0,i.kt)("inlineCode",{parentName:"li"},"Commit new file")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"Commit changes")," section at the bottom of the page."),(0,i.kt)("li",{parentName:"ol"},"Provide a short sentence in the first field and then an optional description in the field below to explain what you've changed."),(0,i.kt)("li",{parentName:"ol"},"Select the option to create a ",(0,i.kt)("inlineCode",{parentName:"li"},"new branch")," for this commit (i.e. the code you've changed).\nYou can just use the suggested name for your branch."),(0,i.kt)("li",{parentName:"ol"},"Once you click ",(0,i.kt)("inlineCode",{parentName:"li"},"Commit new file")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"Commit changes")," you'll have the opportunity to add even more detail if needed before submitting it for review."),(0,i.kt)("li",{parentName:"ol"},"Click ",(0,i.kt)("inlineCode",{parentName:"li"},"Create Pull Request")," when finished."),(0,i.kt)("li",{parentName:"ol"},"The pull request will require 1 approval. This approval can be from a member of the data platform team or another colleague familiar with the platform. At this point please reach out to the Data Platform team or colleague in order to obtain a review "),(0,i.kt)("li",{parentName:"ol"},"You'll receive an email to confirm when your changes have been approved or if any comments have been added to your Pull Request."),(0,i.kt)("li",{parentName:"ol"},"After the pull request you created has been approved you will then have the ability to merge the pull request, Please click ",(0,i.kt)("inlineCode",{parentName:"li"},"Squash and merge")," to complete this step\n",(0,i.kt)("img",{alt:"merge_pr.png",src:a(5711).Z,width:"1149",height:"477"})),(0,i.kt)("li",{parentName:"ol"},"Once you have merged the pull request you will be able to view the progress of the staging deployment by navigating to the ",(0,i.kt)("a",{parentName:"li",href:"https://github.com/LBHackney-IT/Data-Platform/actions"},"Actions")," tab of the Github repository")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"The workflow for the deployment will contain the following text under the workflow title: ",(0,i.kt)("inlineCode",{parentName:"li"},"Data-Platform #xxx: Commit xxxx pushed by xxxxx"))))),(0,i.kt)("ol",{start:10},(0,i.kt)("li",{parentName:"ol"},"When the staging section of the deployment has finished you should be able to see that the Data Platform pre-production/staging environment has updated to reflect the changes you made in the code, and you can now perform some testing to ensure your change is working as expected"),(0,i.kt)("li",{parentName:"ol"},"By this point you will have received a notification email to approve the deployment of your change to production:\n",(0,i.kt)("img",{alt:"img.png",src:a(2294).Z,width:"576",height:"488"}))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("ol",{parentName:"li"},(0,i.kt)("li",{parentName:"ol"},"If you are happy with how your change is performing in pre-production then please follow the links in the email you have received to progress your change to production. "))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("ol",{parentName:"li",start:2},(0,i.kt)("li",{parentName:"ol"},"If the change did not work as expected in pre-production then please decline the deployment of your change to production and repeat the steps above in order to fix any issues you have found in pre-production"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("ol",{parentName:"li",start:3},(0,i.kt)("li",{parentName:"ol"},"If you did not receive an email regarding deployment of your change to production and you are ready to do so then please reach out to the Data Platform team")))),(0,i.kt)("ol",{start:12},(0,i.kt)("li",{parentName:"ol"},"If you wish to explore the deployment process in more detail please see the ",(0,i.kt)("a",{parentName:"li",href:"/Data-Platform-Playbook/docs/CD-process"},"CD Process")," section of the playbook")))}m.isMDXComponent=!0},3245:function(e,t,a){t.Z=a.p+"assets/images/being_on_a_secondary_branch-add3ab15b32a5dced4b5092e66f81e11.png"},1624:function(e,t,a){t.Z=a.p+"assets/images/being_on_the_main_branch-5a479791511bac0cb8ac52f16b294a6f.png"},5711:function(e,t,a){t.Z=a.p+"assets/images/merge_pr-e4de075c2b4ea6fc6356aa9f283507aa.png"},2294:function(e,t,a){t.Z=a.p+"assets/images/production-deployment-cd66907c821f27075b9d93846057ceff.png"}}]);