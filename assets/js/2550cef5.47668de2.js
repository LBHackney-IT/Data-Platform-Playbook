"use strict";(self.webpackChunkdata_platform_playbook=self.webpackChunkdata_platform_playbook||[]).push([[9469],{3905:function(e,t,r){r.d(t,{Zo:function(){return c},kt:function(){return u}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),p=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},c=function(e){var t=p(e.components);return n.createElement(s.Provider,{value:t},e.children)},f={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),m=p(r),u=a,d=m["".concat(s,".").concat(u)]||m[u]||f[u]||o;return r?n.createElement(d,i(i({ref:t},c),{},{components:r})):n.createElement(d,i({ref:t},c))}));function u(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var p=2;p<o;p++)i[p]=r[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}m.displayName="MDXCreateElement"},8986:function(e,t,r){r.r(t),r.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return u},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return f}});var n=r(3117),a=r(102),o=(r(7294),r(3905)),i=["components"],l={title:"Importing external files to the Data Platform Landing Zone",description:"Overview of how files from external suppliers are imported to the Data Platform Landing Zone",layout:"playbook_js",tags:["playbook"]},s=void 0,p={unversionedId:"docs/import-external-files-to-landing-zone",id:"docs/import-external-files-to-landing-zone",title:"Importing external files to the Data Platform Landing Zone",description:"Overview of how files from external suppliers are imported to the Data Platform Landing Zone",source:"@site/docs/docs/import-external-files-to-landing-zone.md",sourceDirName:"docs",slug:"/docs/import-external-files-to-landing-zone",permalink:"/Data-Platform-Playbook/docs/import-external-files-to-landing-zone",draft:!1,editUrl:"https://github.com/LBHackney-IT/data-platform-playbook/edit/master/docs/docs/import-external-files-to-landing-zone.md",tags:[{label:"playbook",permalink:"/Data-Platform-Playbook/tags/playbook"}],version:"current",frontMatter:{title:"Importing external files to the Data Platform Landing Zone",description:"Overview of how files from external suppliers are imported to the Data Platform Landing Zone",layout:"playbook_js",tags:["playbook"]},sidebar:"docs",previous:{title:"Exporting database snapshots to the Data Platform Landing Zone",permalink:"/Data-Platform-Playbook/docs/exporting-snapshot-to-landing-zone"},next:{title:"Import spreadsheets from G Drive",permalink:"/Data-Platform-Playbook/docs/import-spreadsheet-from-g-drive"}},c={},f=[],m={toc:f};function u(e){var t=e.components,r=(0,a.Z)(e,i);return(0,o.kt)("wrapper",(0,n.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This section covers the technical overview of how external suppliers can import data into the data platform. This can be done using various file formats, e.g. .csv and SQL data dumps"),(0,o.kt)("p",null,"The terraform script ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/LBHackney-IT/Data-Platform/tree/main/terraform/33-liberator-iam.tf"},"33-liberator-iam.tf")," provisions an AWS IAM User and associated policies. The policies will allow the external supplier to see an S3 specified by the policy and to upload a file into that bucket and see the file. In the example script, this bucket is ",(0,o.kt)("inlineCode",{parentName:"p"},"s3://dataplatform-stg-liberator-data-storage/parking/")),(0,o.kt)("p",null,"The login details for the user can be used by the external provider by executing the following steps:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"The external supplier logs into AWS using the ",(0,o.kt)("a",{parentName:"li",href:"https://aws.amazon.com/cli/"},"AWS Command Line Interface")),(0,o.kt)("li",{parentName:"ol"},"The external supplier uses the ",(0,o.kt)("inlineCode",{parentName:"li"},"aws s3 cp")," command with the source location and the destination as arguments, e.g.",(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre"},"aws s3 cp c:\\<SUPPLIER_COMPUTER>\\<SOURCE_FILE_NAME>.csv s3://dataplatform-stg-liberator-data-storage/parking/\n"))),(0,o.kt)("li",{parentName:"ol"},"When the document has been uploaded to the Data Storage Zone the external supplier can disconnect."),(0,o.kt)("li",{parentName:"ol"},"In the case of the Liberator data, the upload will automatically trigger a process which converts the data dump in the data storage zone into parquet format. Following this, there is a Lambda which moves the parquet data into the Landing Zone for further processing.")))}u.isMDXComponent=!0}}]);