"use strict";(self.webpackChunkdata_platform_playbook=self.webpackChunkdata_platform_playbook||[]).push([[800],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>k});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),d=p(a),c=r,k=d["".concat(l,".").concat(c)]||d[c]||u[c]||o;return a?n.createElement(k,i(i({ref:t},m),{},{components:a})):n.createElement(k,i({ref:t},m))}));function k(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=c;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:r,i[1]=s;for(var p=2;p<o;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},2545:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const o={id:"query-my-service-data",title:"Query my service data",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",layout:"playbook_js",tags:["onboarding"]},i="How will I query and analyze my service data with Amazon Athena?",s={unversionedId:"dap-airflow/onboarding/query-my-service-data",id:"dap-airflow/onboarding/query-my-service-data",title:"Query my service data",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",source:"@site/docs/dap-airflow/onboarding/query-my-service-data.md",sourceDirName:"dap-airflow/onboarding",slug:"/dap-airflow/onboarding/query-my-service-data",permalink:"/Data-Platform-Playbook/dap-airflow/onboarding/query-my-service-data",draft:!1,editUrl:"https://github.com/LBHackney-IT/data-platform-playbook/edit/master/docs/dap-airflow/onboarding/query-my-service-data.md",tags:[{label:"onboarding",permalink:"/Data-Platform-Playbook/tags/onboarding"}],version:"current",frontMatter:{id:"query-my-service-data",title:"Query my service data",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",layout:"playbook_js",tags:["onboarding"]},sidebar:"docs",previous:{title:"My service data history",permalink:"/Data-Platform-Playbook/dap-airflow/onboarding/access-my-service-data-history"},next:{title:"Prototype simple transforms",permalink:"/Data-Platform-Playbook/dap-airflow/onboarding/prototype-simple-transforms"}},l={},p=[{value:"1. Access Amazon Athena",id:"1-access-amazon-athena",level:3},{value:"2. Select your workgroup",id:"2-select-your-workgroup",level:3},{value:"3. Explore your database",id:"3-explore-your-database",level:3},{value:"4. Familiarize yourself with SQL queries",id:"4-familiarize-yourself-with-sql-queries",level:3},{value:"5. Run SQL queries",id:"5-run-sql-queries",level:3},{value:"6. Analyze your data",id:"6-analyze-your-data",level:3},{value:"<strong><em>&quot;We</em> \u2661 <em>your feedback!&quot;</em></strong>",id:"we--your-feedback",level:2},{value:"UX Criteria",id:"ux-criteria",level:4}],m={toc:p},d="wrapper";function u(e){let{components:t,...o}=e;return(0,r.kt)(d,(0,n.Z)({},m,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"how-will-i-query-and-analyze-my-service-data-with-amazon-athena"},"How will I query and analyze my service data with Amazon Athena?"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"DAP\u21e8flow",src:a(2632).Z,width:"750",height:"100"}),"  "),(0,r.kt)("h3",{id:"1-access-amazon-athena"},"1. Access Amazon Athena"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," In your web browser, log in to your AWS account, navigate to the AWS Management Console, and open Amazon Athena. "),(0,r.kt)("p",null,"\ud83d\udc49 First time Amazon Athena users should ",(0,r.kt)("strong",{parentName:"p"},"start here \u25ba")," ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"../onboarding/access-my-Amazon-Athena-database"},"DAP\u21e8flow\ud83d\udcdaAmazon Athena"))," "),(0,r.kt)("h3",{id:"2-select-your-workgroup"},"2. Select your workgroup"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," Ensure you have selected ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service]")," from the list box next to \u201cWorkgroup\u201d.  "),(0,r.kt)("h3",{id:"3-explore-your-database"},"3. Explore your database"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," Ensure you have selected ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service raw zone]"),' from the list box under "',(0,r.kt)("strong",{parentName:"p"},"Database"),'" on the left side of the Athena interface, before expanding the lists under "',(0,r.kt)("strong",{parentName:"p"},"\u25ba Tables"),'" and/or "',(0,r.kt)("strong",{parentName:"p"},"\u25ba Views"),". Expandanding further should reveal column names and data types, as follows:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},'"',(0,r.kt)("strong",{parentName:"p"},"\u25bc Tables"),'"',(0,r.kt)("br",{parentName:"p"}),"\n","\ud83d\udc49 Documented here \u25ba ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"../onboarding/access-my-service-data-history"},"\ud83d\udcdaMy service data history"))," ")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},'"',(0,r.kt)("strong",{parentName:"p"},"\u25bc Views"),'"',(0,r.kt)("br",{parentName:"p"}),"\n","\ud83d\udc49 Documented here \u25ba ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"../onboarding/access-my-current-service-data"},"\ud83d\udcdaMy current service data"))," "))),(0,r.kt)("h3",{id:"4-familiarize-yourself-with-sql-queries"},"4. Familiarize yourself with SQL queries"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\udd6e"))," You will need to understand the concepts and basic requirements of writing SQL queries. This includes knowing how to select columns, filter data, join tables, etc.  "),(0,r.kt)("p",null,"   \ud83d\udc49 You can learn more about using Amazon Athena ",(0,r.kt)("strong",{parentName:"p"},"\u25ba")," ",(0,r.kt)("a",{parentName:"p",href:"https://docs.aws.amazon.com/athena/latest/ug/using-athena-sql.html"},(0,r.kt)("strong",{parentName:"a"},"here"))),(0,r.kt)("h3",{id:"5-run-sql-queries"},"5. Run SQL queries"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," Use the SQL query editor in Amazon Athena to write and run queries involving tables and columns equivalent to the original ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service database]"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Fig. 5"))," ",(0,r.kt)("img",{alt:"Fig. 5",src:a(4153).Z,width:"512",height:"342"})),(0,r.kt)("h3",{id:"6-analyze-your-data"},"6. Analyze your data"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\udc41"))," Review the results of your queries to find answers to your questions about ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service]")," data."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Fig. 6"))," ",(0,r.kt)("img",{alt:"Fig. 6",src:a(379).Z,width:"512",height:"325"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," You can copy results to the clipboard.  "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1")),"  You can download the results into a CSV file.  "),(0,r.kt)("br",null),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"we--your-feedback"},(0,r.kt)("strong",{parentName:"h2"},(0,r.kt)("em",{parentName:"strong"},'"We')," \u2661 ",(0,r.kt)("em",{parentName:"strong"},'your feedback!"'))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"DAP\u21e8flow",src:a(2632).Z,width:"750",height:"100"}),"  "),(0,r.kt)("admonition",{title:"UX  ",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"\ud83d\udc49 Please use ",(0,r.kt)("strong",{parentName:"p"},"this link \u25ba")," ",(0,r.kt)("a",{parentName:"p",href:"https://docs.google.com/forms/d/e/1FAIpQLSdqeNyWIPMNBHEr-YSyxnXQ4ggTwJPkffMYgFaJ4hGEhIL6LA/viewform?usp=pp_url&entry.339550210=query-my-service-data"},(0,r.kt)("strong",{parentName:"a"},"DAP\u21e8flow")," ",(0,r.kt)("inlineCode",{parentName:"a"},"UX")," ",(0,r.kt)("strong",{parentName:"a"},"Feedback / query-my-service-data")),"  "),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"Your feedback enables us to improve ",(0,r.kt)("strong",{parentName:"li"},"DAP\u21e8flow")," and our Data Analytics Platform service.  "),(0,r.kt)("li",{parentName:"ul"},"We encourage all our users to be generous with their time, in giving us their recollections and honest opinions about our service.  "),(0,r.kt)("li",{parentName:"ul"},"We especially encourage our new users to give feedback at the end of every ",(0,r.kt)("strong",{parentName:"li"},"\ud83d\udcdaOnboarding")," task because the quality of the onboarding experience really matters.",(0,r.kt)("br",{parentName:"li"}),"\u261d ",(0,r.kt)("strong",{parentName:"li"},"Please use this link to help us understand your user experience!")))),(0,r.kt)("h4",{id:"ux-criteria"},"UX Criteria"),(0,r.kt)("admonition",{title:"ABILITY  ",type:"info"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"Hackney ",(0,r.kt)("strong",{parentName:"li"},"AWS Management Console")," user  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Amazon Athena")," user  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[my service]")," Data Analyst"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[my service database]")," user"))),(0,r.kt)("admonition",{title:"BEHAVIOR  ",type:"note"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Measures")," the behavior of ",(0,r.kt)("strong",{parentName:"p"},"Amazon Athena")," showing ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service raw zone]")," when the user runs a working SQL query."),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Given")," in my web browser, I have accessed ",(0,r.kt)("strong",{parentName:"p"},"Amazon Athena"),(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"~and")," I have selected ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service]")," workgroup",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"~and")," Amazon Athena shows ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service raw zone]")," with ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service database]")," equivalent tables and columns",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"~and")," I am familiar with the concepts and basic requirements of writing an Amazon Athena SQL query",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"When")," I run my SQL query containing given those tables and columns",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"Then")," I should be able to find answers to my questions about ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service]")," data",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"~and")," I can copy results to the clipboard",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"~and")," I can download the results into a CSV file"),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Scale")," of 2 to 5 ",(0,r.kt)("strong",{parentName:"p"},"~and")," flow features.  ")))}u.isMDXComponent=!0},2632:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/DAPairflowFLOWleft-e023069f4c3409ab8db1b918e04abb3b.png"},4153:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/query-my-service-data-five-27dcec49cc548fbd24fd2bb31720d4a6.png"},379:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/query-my-service-data-six-245006027c1d25a07110cc8d0d884d08.png"}}]);