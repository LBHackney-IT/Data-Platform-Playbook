"use strict";(self.webpackChunkdata_platform_playbook=self.webpackChunkdata_platform_playbook||[]).push([[7825],{3905:(e,t,a)=>{a.d(t,{Zo:()=>c,kt:()=>h});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),p=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=p(e.components);return n.createElement(l.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=p(a),u=r,h=m["".concat(l,".").concat(u)]||m[u]||d[u]||o;return a?n.createElement(h,i(i({ref:t},c),{},{components:a})):n.createElement(h,i({ref:t},c))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[m]="string"==typeof e?e:r,i[1]=s;for(var p=2;p<o;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},1219:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>s,toc:()=>p});var n=a(7462),r=(a(7294),a(3905));const o={id:"access-my-current-service-data",title:"My current service data",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",layout:"playbook_js",tags:["onboarding"]},i="How will I access my current service data from Amazon Athena?",s={unversionedId:"dap-airflow/onboarding/access-my-current-service-data",id:"dap-airflow/onboarding/access-my-current-service-data",title:"My current service data",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",source:"@site/docs/dap-airflow/onboarding/access-my-current-service-data.md",sourceDirName:"dap-airflow/onboarding",slug:"/dap-airflow/onboarding/access-my-current-service-data",permalink:"/Data-Platform-Playbook/dap-airflow/onboarding/access-my-current-service-data",draft:!1,editUrl:"https://github.com/LBHackney-IT/data-platform-playbook/edit/master/docs/dap-airflow/onboarding/access-my-current-service-data.md",tags:[{label:"onboarding",permalink:"/Data-Platform-Playbook/tags/onboarding"}],version:"current",frontMatter:{id:"access-my-current-service-data",title:"My current service data",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",layout:"playbook_js",tags:["onboarding"]},sidebar:"docs",previous:{title:"Amazon Athena",permalink:"/Data-Platform-Playbook/dap-airflow/onboarding/access-my-Amazon-Athena-database"},next:{title:"My service data history",permalink:"/Data-Platform-Playbook/dap-airflow/onboarding/access-my-service-data-history"}},l={},p=[{value:"1. Access Amazon Athena",id:"1-access-amazon-athena",level:3},{value:"2. Select your database",id:"2-select-your-database",level:3},{value:"3. Explore the views in your database",id:"3-explore-the-views-in-your-database",level:3},{value:"4. Expand each view",id:"4-expand-each-view",level:3},{value:"5. Verify the views and columns",id:"5-verify-the-views-and-columns",level:3},{value:"6. Observe the partition columns",id:"6-observe-the-partition-columns",level:3},{value:"<strong><em>&quot;We</em> \u2661 <em>your feedback!&quot;</em></strong>",id:"we--your-feedback",level:2},{value:"UX Criteria",id:"ux-criteria",level:4}],c={toc:p},m="wrapper";function d(e){let{components:t,...o}=e;return(0,r.kt)(m,(0,n.Z)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"how-will-i-access-my-current-service-data-from-amazon-athena"},"How will I access my current service data from Amazon Athena?"),(0,r.kt)("h3",{id:"1-access-amazon-athena"},"1. Access Amazon Athena"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," In your web browser, log in to your AWS account, navigate to the AWS Management Console, and open Amazon Athena. "),(0,r.kt)("p",null,"\ud83d\udc49 First time Amazon Athena users should ",(0,r.kt)("strong",{parentName:"p"},"start here \u25ba")," ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"../onboarding/access-my-Amazon-Athena-database"},"DAP\u21e8flow\ud83d\udcdaAmazon Athena"))," "),(0,r.kt)("h3",{id:"2-select-your-database"},"2. Select your database"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," Ensure that you have selected ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service raw zone]"),' from the list box under the "',(0,r.kt)("strong",{parentName:"p"},"Database"),'" section on the left side of the Athena interface.'),(0,r.kt)("h3",{id:"3-explore-the-views-in-your-database"},"3. Explore the views in your database"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1")),' Beneath the "',(0,r.kt)("strong",{parentName:"p"},"Database"),'" section on the left of the Athena interface and below the \u201c',(0,r.kt)("strong",{parentName:"p"},"\u25bc Tables"),"\u201d section (collapsed when clicking ",(0,r.kt)("strong",{parentName:"p"},"\u25bc"),"\u2192\u201c",(0,r.kt)("strong",{parentName:"p"},"\u25ba Tables"),"\u201d), expand  the \u201c",(0,r.kt)("strong",{parentName:"p"},"\u25ba Views"),'" section (clicking ',(0,r.kt)("strong",{parentName:"p"},"\u25ba"),"\u2192\u201c",(0,r.kt)("strong",{parentName:"p"},"\u25bc Views"),"\u201d) to find a list of views based on tables available from ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service raw zone]")," database."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"DAP\u21e8flow")," implements Athena databases that present users with views that show only current-generation data, based upon their underlying history-table counterparts. So Data Analysts can ignore the history in the S3 data lake and instead write much simpler transformations resembling the queries of the original ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service database]"),".  "),(0,r.kt)("p",{parentName:"li"}," \ud83d\udc49 The explanation of that underlying history is ",(0,r.kt)("strong",{parentName:"p"},"documented here \u25ba")," ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("a",{parentName:"strong",href:"../onboarding/access-my-service-data-history"},"DAP\u21e8flow\ud83d\udcdaMy service data history"))," ")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"In the implementation of ",(0,r.kt)("strong",{parentName:"p"},"DAP\u21e8flow"),", the names of the views should exactly represent the original table names of ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service database]"),"."))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Fig. 2, 3, 4 & 5"))," ",(0,r.kt)("img",{alt:"Fig. 2, 3, 4 &amp; 5",src:a(9478).Z,width:"452",height:"512"})),(0,r.kt)("h3",{id:"4-expand-each-view"},"4. Expand each view"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," Navigating beneath \u201c",(0,r.kt)("strong",{parentName:"p"},"\u25bc Views"),"\u201d, click on each view name to expand it and observe the complete list of columns in that view."),(0,r.kt)("h3",{id:"5-verify-the-views-and-columns"},"5. Verify the views and columns"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\udc41"))," Compare each view and its columns with the equivalent table and columns from ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service database]")," to observe how their names and data types match up with their counterparts."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Occasionally the automatic data type translation will yield unexpected results. Always check columns to ensure there will never be any data lost. For example, if integer precision is lost.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Be specially aware of ",(0,r.kt)("strong",{parentName:"p"},"date")," translations. Dates are sometimes transmitted in specialized formats, possibly numerical or possibly textual. If we\u2019re unlucky these might need some coded reconciliation afterwards to make them both readable and useful in computations, especially used in comparison, or when joined to date columns from tables elsewhere."))),(0,r.kt)("h3",{id:"6-observe-the-partition-columns"},"6. Observe the partition columns"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"\ud83d\uddb1"))," Scroll to the bottom of the column list to find the partition scheme derived from the underlying history table. This will comprise four or more columns shown with the partition data type alongside eg. ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"string."))," But unlike its table counterpart in the section above, the view will actually not show \u201c",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"(Partitioned)")),"\u201d."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("inlineCode",{parentName:"strong"},"Fig. 6"))," ",(0,r.kt)("img",{alt:"Fig. 6",src:a(77).Z,width:"512",height:"433"}),"  "),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Later on when we come to query these views we will observe data fetched from the single most current ",(0,r.kt)("strong",{parentName:"li"},"generation")," of data, as we study the output from those partition columns, in particular, \u201c",(0,r.kt)("strong",{parentName:"li"},"import","_","date"),"\u201d.")),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"we--your-feedback"},(0,r.kt)("strong",{parentName:"h2"},(0,r.kt)("em",{parentName:"strong"},'"We')," \u2661 ",(0,r.kt)("em",{parentName:"strong"},'your feedback!"'))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"DAP\u21e8flow",src:a(2632).Z,width:"750",height:"100"}),"  "),(0,r.kt)("admonition",{title:"UX  ",type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"\ud83d\udc49 Please use ",(0,r.kt)("strong",{parentName:"p"},"this link \u25ba")," ",(0,r.kt)("a",{parentName:"p",href:"https://docs.google.com/forms/d/e/1FAIpQLSdqeNyWIPMNBHEr-YSyxnXQ4ggTwJPkffMYgFaJ4hGEhIL6LA/viewform?usp=pp_url&entry.339550210=access-my-current-service-data"},(0,r.kt)("strong",{parentName:"a"},"DAP\u21e8flow")," ",(0,r.kt)("inlineCode",{parentName:"a"},"UX")," ",(0,r.kt)("strong",{parentName:"a"},"Feedback / access-my-current-service-data")),"  "),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"Your feedback enables us to improve ",(0,r.kt)("strong",{parentName:"li"},"DAP\u21e8flow")," and our Data Analytics Platform service.  "),(0,r.kt)("li",{parentName:"ul"},"We encourage all our users to be generous with their time, in giving us their recollections and honest opinions about our service.  "),(0,r.kt)("li",{parentName:"ul"},"We especially encourage our new users to give feedback at the end of every ",(0,r.kt)("strong",{parentName:"li"},"\ud83d\udcdaOnboarding")," task because the quality of the onboarding experience really matters.",(0,r.kt)("br",{parentName:"li"}),"\u261d ",(0,r.kt)("strong",{parentName:"li"},"Please use this link to help us understand your user experience!"),"  "))),(0,r.kt)("h4",{id:"ux-criteria"},"UX Criteria"),(0,r.kt)("admonition",{title:"ABILITY  ",type:"info"},(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},"Hackney ",(0,r.kt)("strong",{parentName:"li"},"AWS Management Console")," user  "),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[my service]")," Data Analyst"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"[my service database]")," user"))),(0,r.kt)("admonition",{title:"BEHAVIOR  ",type:"note"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Measures")," the behavior of ",(0,r.kt)("strong",{parentName:"p"},"Amazon Athena")," while the user explores ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service raw zone]")," database views and columns.  "),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Given")," I have selected ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service raw zone]")," database in the  Amazon Athena interface",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"When")," I explore the list below \u201c",(0,r.kt)("strong",{parentName:"p"},"Views"),"\u201d",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"~and")," expand each view name to list its columns",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"Then")," I should find view names exactly equivalent to tables from ",(0,r.kt)("inlineCode",{parentName:"p"},"[my service database]"),(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"~and")," find equivalent column names with their respective equivalent data types",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("strong",{parentName:"p"},"~and")," I should observe every view has columns added, eg. \u201cimport_date\u201d, based on the partition schema of each underlying table.  "),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Scale")," of 3 ",(0,r.kt)("strong",{parentName:"p"},"~and")," flow features.  ")))}d.isMDXComponent=!0},2632:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/DAPairflowFLOWleft-e023069f4c3409ab8db1b918e04abb3b.png"},77:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/access-my-current-service-data-six-e7a0d0309280adcfcba26d76439ee0c0.png"},9478:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/access-my-current-service-data-two-five-bebcbe12c9f19d1b0387c327b7bb1ef1.png"}}]);