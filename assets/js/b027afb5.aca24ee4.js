"use strict";(self.webpackChunkdata_platform_playbook=self.webpackChunkdata_platform_playbook||[]).push([[6002],{8804:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var r=s(4848),t=s(8453);const i={id:"access-my-current-service-data",title:"My current service data",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",layout:"playbook_js",tags:["onboarding"]},a="How will I access my [service]'s current data from Amazon Athena?",o={id:"dap-airflow/onboarding/access-my-current-service-data",title:"My current service data",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",source:"@site/docs/dap-airflow/onboarding/access-my-current-service-data.md",sourceDirName:"dap-airflow/onboarding",slug:"/dap-airflow/onboarding/access-my-current-service-data",permalink:"/Data-Platform-Playbook/dap-airflow/onboarding/access-my-current-service-data",draft:!1,unlisted:!1,editUrl:"https://github.com/LBHackney-IT/data-platform-playbook/edit/master/docs/dap-airflow/onboarding/access-my-current-service-data.md",tags:[{inline:!0,label:"onboarding",permalink:"/Data-Platform-Playbook/tags/onboarding"}],version:"current",frontMatter:{id:"access-my-current-service-data",title:"My current service data",description:"Onboarding data analysts and engineers to DAP\u21e8flow, the Data Analytics Platform Airflow integration.",layout:"playbook_js",tags:["onboarding"]},sidebar:"docs",previous:{title:"Amazon Athena",permalink:"/Data-Platform-Playbook/dap-airflow/onboarding/access-my-Amazon-Athena-database"},next:{title:"My service data history",permalink:"/Data-Platform-Playbook/dap-airflow/onboarding/access-my-service-data-history"}},c={},l=[{value:"1. Access <em><strong>Amazon Athena</strong></em>",id:"1-access-amazon-athena",level:2},{value:"2. Select your <code>[service raw zone]</code> database",id:"2-select-your-service-raw-zone-database",level:2},{value:"3. Explore the views in your database",id:"3-explore-the-views-in-your-database",level:2},{value:"4. Expand each view",id:"4-expand-each-view",level:2},{value:"5. Verify the views and columns",id:"5-verify-the-views-and-columns",level:2},{value:"6. Observe the partition columns",id:"6-observe-the-partition-columns",level:2},{value:"<strong><em>&quot;We</em> \u2661 <em>your feedback!&quot;</em></strong>",id:"we--your-feedback",level:2},{value:"\ud83d\udc49 Please use <strong>this link \u25ba</strong> <strong>DAP\u21e8flow</strong> <code>UX</code> <strong>Feedback / access-my-current-service-data</strong>",id:"-please-use-this-link--dapflow-ux-feedback--access-my-current-service-data",level:3},{value:"\ud83d\udcda<code>UX</code> Criteria",id:"ux-criteria",level:2},{value:"How will I access my <code>[service]</code>&#39;s current data from <em><strong>Amazon Athena</strong></em>?",id:"how-will-i-access-my-services-current-data-from-amazon-athena-1",level:3}];function d(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsxs)(n.h1,{id:"how-will-i-access-my-services-current-data-from-amazon-athena",children:["How will I access my ",(0,r.jsx)(n.code,{children:"[service]"}),"'s current data from ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})}),"?"]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"DAP\u21e8flow",src:s(2854).A+"",width:"750",height:"100"})}),"\n",(0,r.jsxs)(n.h2,{id:"1-access-amazon-athena",children:["1. Access ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})})," In your web browser, log in to your AWS account, navigate to the ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"AWS Management Console"})}),", and open ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udc49 First time ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})})," users should ",(0,r.jsx)(n.strong,{children:"start here \u25ba"})," ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"../onboarding/access-my-Amazon-Athena-database",children:"DAP\u21e8flow\ud83d\udcdaAmazon Athena"})})]}),"\n",(0,r.jsxs)(n.h2,{id:"2-select-your-service-raw-zone-database",children:["2. Select your ",(0,r.jsx)(n.code,{children:"[service raw zone]"})," database"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})})," Ensure that you have selected your ",(0,r.jsx)(n.code,{children:"[service raw zone]"}),' from the list box under the "',(0,r.jsx)(n.strong,{children:"Database"}),'" section on the left side of the Athena interface.']}),"\n",(0,r.jsx)(n.admonition,{title:"REMINDER",type:"info",children:(0,r.jsxs)(n.p,{children:["\ud83d\udc49  Your ",(0,r.jsxs)(n.strong,{children:["Service Terms",(0,r.jsx)(n.code,{children:"[]"})]})," are defined in the ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"welcome"})})," document stored in your ",(0,r.jsxs)(n.a,{href:"https://drive.google.com/drive/folders/1k30M7Hh8WLttL5T5JVGbnKvSLNX7lVSg?usp=drive_link",children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"[service access group]"})})," ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Google Drive subfolder"})})]}),"."]})}),"\n",(0,r.jsx)(n.h2,{id:"3-explore-the-views-in-your-database",children:"3. Explore the views in your database"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})}),' Beneath the "',(0,r.jsx)(n.strong,{children:"Database"}),'" section on the left of the Athena interface and below the "',(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"\u25bc"})," Tables"]}),"\u201d section (collapsed when clicking ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\u25bc"})}),"\u2192\u201c",(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"\u25ba"})," Tables"]}),"\u201d), expand the \u201c",(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"\u25ba"})," Views"]}),'" section (clicking ',(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\u25ba"})}),"\u2192\u201c",(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"\u25bc"})," Views"]}),"\u201d) to find a list of views based on tables available from your ",(0,r.jsx)(n.code,{children:"[service raw zone]"})," database."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"DAP\u21e8flow"})," implements Athena databases that present users with views that show only current-generation data, based upon their underlying history-table counterparts. So Data Analysts can ignore the history in the S3 data lake and instead write much simpler transformations resembling the queries of your original ",(0,r.jsx)(n.code,{children:"[service database]"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["\ud83d\udc49 The explanation of the underlying history is ",(0,r.jsx)(n.strong,{children:"documented here \u25ba"})," ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"../onboarding/access-my-service-data-history",children:"DAP\u21e8flow\ud83d\udcdaMy service data history"})})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["In the implementation of ",(0,r.jsx)(n.strong,{children:"DAP\u21e8flow"}),", the names of the views should exactly represent the original table names of your ",(0,r.jsx)(n.code,{children:"[service database]"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"Fig. 2, 3, 4 & 5"})})," ",(0,r.jsx)(n.img,{alt:"Fig. 2, 3, 4 &amp; 5",src:s(2644).A+"",width:"452",height:"512"})]}),"\n",(0,r.jsx)(n.h2,{id:"4-expand-each-view",children:"4. Expand each view"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})})," Navigating beneath \u201c",(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"\u25bc"})," Views"]}),"\u201d, click on each view name to expand it and observe the complete list of columns in that view."]}),"\n",(0,r.jsx)(n.h2,{id:"5-verify-the-views-and-columns",children:"5. Verify the views and columns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\udc41"})})," Compare each view and its columns with the equivalent table and columns from your ",(0,r.jsx)(n.code,{children:"[service database]"})," to observe how their names and data types match up with their counterparts."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Occasionally the automatic data type translation will yield unexpected results. Always check columns to ensure there will never be any data lost. For example, if integer precision is lost."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Be specially aware of ",(0,r.jsx)(n.em,{children:"date"})," translations. Dates are sometimes transmitted in specialized formats, possibly numerical or possibly textual. If we\u2019re unlucky these might need some coded reconciliation afterwards to make them both readable and useful in computations, especially when used in comparison, or used to join ",(0,r.jsx)(n.em,{children:"date"})," columns from tables elsewhere."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"6-observe-the-partition-columns",children:"6. Observe the partition columns"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"\ud83d\uddb1"})})," Scroll to the bottom of the column list to find the partition scheme derived from the underlying history table. This will comprise four or more columns shown with the partition data type alongside eg. ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"string"})})," But unlike its table counterpart in the section above, the view will actually not show ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"(Partitioned)"})}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"Fig. 6"})})," ",(0,r.jsx)(n.img,{alt:"Fig. 6",src:s(9163).A+"",width:"512",height:"433"})]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Later on when we come to query these views we will observe data fetched from the single most current ",(0,r.jsx)(n.strong,{children:"generation"})," of data, as we study the output from those partition columns, in particular, ",(0,r.jsx)(n.code,{children:"import_date"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"we--your-feedback",children:(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.em,{children:'"We'})," \u2661 ",(0,r.jsx)(n.em,{children:'your feedback!"'})]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"DAP\u21e8flow",src:s(2854).A+"",width:"750",height:"100"})}),"\n",(0,r.jsxs)(n.admonition,{title:"UX",type:"tip",children:[(0,r.jsxs)(n.h3,{id:"-please-use-this-link--dapflow-ux-feedback--access-my-current-service-data",children:["\ud83d\udc49 Please use ",(0,r.jsx)(n.strong,{children:"this link \u25ba"})," ",(0,r.jsxs)(n.a,{href:"https://docs.google.com/forms/d/e/1FAIpQLSdqeNyWIPMNBHEr-YSyxnXQ4ggTwJPkffMYgFaJ4hGEhIL6LA/viewform?usp=pp_url&entry.339550210=access-my-current-service-data",children:[(0,r.jsx)(n.strong,{children:"DAP\u21e8flow"})," ",(0,r.jsx)(n.code,{children:"UX"})," ",(0,r.jsx)(n.strong,{children:"Feedback / access-my-current-service-data"})]})]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Your feedback enables us to improve ",(0,r.jsx)(n.strong,{children:"DAP\u21e8flow"})," and our Data Analytics Platform service."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"We encourage all our users to be generous with their time, in giving us their recollections and honest opinions about our service."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["We especially encourage our new users to give feedback at the end of every ",(0,r.jsx)(n.strong,{children:"\ud83d\udcdaOnboarding"})," task because the quality of the onboarding experience really matters."]}),"\n",(0,r.jsxs)(n.p,{children:["\u261d ",(0,r.jsx)(n.strong,{children:"Please use this link to help us understand your user experience!"})]}),"\n"]}),"\n"]})]}),"\n",(0,r.jsxs)(n.h2,{id:"ux-criteria",children:["\ud83d\udcda",(0,r.jsx)(n.code,{children:"UX"})," Criteria"]}),"\n",(0,r.jsx)(n.admonition,{title:"ABILITY",type:"info",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"AWS Management Console"})})," user"]}),"\n",(0,r.jsxs)(n.li,{children:["Hackney ",(0,r.jsx)(n.code,{children:"[service]"})," Data Analyst"]}),"\n",(0,r.jsxs)(n.li,{children:["Hackney ",(0,r.jsx)(n.code,{children:"[service database]"})," user"]}),"\n"]})}),"\n",(0,r.jsxs)(n.admonition,{title:"BEHAVIOR",type:"note",children:[(0,r.jsxs)(n.h3,{id:"how-will-i-access-my-services-current-data-from-amazon-athena-1",children:["How will I access my ",(0,r.jsx)(n.code,{children:"[service]"}),"'s current data from ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})}),"?"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Measures"})," the behavior of ",(0,r.jsx)(n.strong,{children:"Amazon Athena"})," as users explore their ",(0,r.jsx)(n.code,{children:"[service raw zone]"})," database views and columns:"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Given"})," I have selected my ",(0,r.jsx)(n.code,{children:"[service raw zone]"})," database in the ",(0,r.jsx)(n.em,{children:(0,r.jsx)(n.strong,{children:"Amazon Athena"})})," interface"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"When"})," I explore the list below \u201c",(0,r.jsx)(n.strong,{children:"Views"}),"\u201d",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"~and"})," expand each view name to list its columns"]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Then"})," I should find view names exactly equivalent to tables from my ",(0,r.jsx)(n.code,{children:"[service database]"}),(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"~and"})," find equivalent column names with their respective equivalent data types",(0,r.jsx)(n.br,{}),"\n",(0,r.jsx)(n.strong,{children:"~and"})," I should observe every view has columns added, eg. \u201cimport_date\u201d, based on the partition schema of each underlying table."]}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Scale"})," of 3 ",(0,r.jsx)(n.strong,{children:"~and"})," flow features."]})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},2854:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/DAPairflowFLOWleft-e023069f4c3409ab8db1b918e04abb3b.png"},9163:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/access-my-current-service-data-six-e7a0d0309280adcfcba26d76439ee0c0.png"},2644:(e,n,s)=>{s.d(n,{A:()=>r});const r=s.p+"assets/images/access-my-current-service-data-two-five-bebcbe12c9f19d1b0387c327b7bb1ef1.png"},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var r=s(6540);const t={},i=r.createContext(t);function a(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);